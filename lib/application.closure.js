var max_min_avg={pib_normalizado_1999_max:39.06,pib_normalizado_1999_min:-36.05,pib_normalizado_2000_max:40.29,pib_normalizado_2000_min:-35.28,pib_normalizado_2001_max:39.41,pib_normalizado_2001_min:-34.71,pib_normalizado_2002_max:38.42,pib_normalizado_2002_min:-33.37,pib_normalizado_2003_max:36.07,pib_normalizado_2003_min:-31.99,pib_normalizado_2004_max:35.83,pib_normalizado_2004_min:-31.25,pib_normalizado_2005_max:34.46,pib_normalizado_2005_min:-30.73,pib_normalizado_2006_max:35.89,pib_normalizado_2006_min:-32.06,
pib_normalizado_2007_max:35.25,pib_normalizado_2007_min:-34.45,pib_normalizado_2008_max:36.92,pib_normalizado_2008_min:-34.14,detenidos_normalizado_1993_max:397.4,detenidos_normalizado_1993_min:-85.79,detenidos_normalizado_1994_max:443.92,detenidos_normalizado_1994_min:-88.23,detenidos_normalizado_1995_max:464.39,detenidos_normalizado_1995_min:-95.18,detenidos_normalizado_1996_max:439.49,detenidos_normalizado_1996_min:-97.87,detenidos_normalizado_1997_max:443.15,detenidos_normalizado_1997_min:-97.52,
detenidos_normalizado_1998_max:407.61,detenidos_normalizado_1998_min:-98.05,detenidos_normalizado_1999_max:416.77,detenidos_normalizado_1999_min:-61.13,detenidos_normalizado_2000_max:399.58,detenidos_normalizado_2000_min:-61.06,detenidos_normalizado_2001_max:370.04,detenidos_normalizado_2001_min:-57.86,detenidos_normalizado_2002_max:371.04,detenidos_normalizado_2002_min:-57.99,detenidos_normalizado_2003_max:326.21,detenidos_normalizado_2003_min:-54.95,detenidos_normalizado_2004_max:284.06,detenidos_normalizado_2004_min:-54.24,
detenidos_normalizado_2005_max:278.72,detenidos_normalizado_2005_min:-56.25,detenidos_normalizado_2006_max:261.85,detenidos_normalizado_2006_min:-66.18,detenidos_normalizado_2007_max:255.33,detenidos_normalizado_2007_min:-55.86,detenidos_normalizado_2008_max:265.46,detenidos_normalizado_2008_min:-49.21,detenidos_normalizado_2009_max:258.27,detenidos_normalizado_2009_min:-51.12,salario_medio_1995_max:22423,salario_medio_1995_min:15141,salario_medio_1995_avg:18915.11,salario_medio_1996_max:23092,salario_medio_1996_min:16136,
salario_medio_1996_avg:19592.44,salario_medio_1997_max:23544,salario_medio_1997_min:16646,salario_medio_1997_avg:19949.78,salario_medio_1998_max:23860,salario_medio_1998_min:17018,salario_medio_1998_avg:20303.5,salario_medio_1999_max:24385,salario_medio_1999_min:17385,salario_medio_1999_avg:20707.17,salario_medio_2000_max:24941,salario_medio_2000_min:18077,salario_medio_2000_avg:21239.28,salario_medio_2001_max:25717,salario_medio_2001_min:18826,salario_medio_2001_avg:22039.67,salario_medio_2002_max:26331,
salario_medio_2002_min:19589,salario_medio_2002_avg:22841.72,salario_medio_2003_max:26983,salario_medio_2003_min:20123,salario_medio_2003_avg:23548.67,salario_medio_2004_max:27797,salario_medio_2004_min:20611,salario_medio_2004_avg:24179.78,salario_medio_2005_max:28607,salario_medio_2005_min:21514,salario_medio_2005_avg:24860.67,salario_medio_2006_max:29537,salario_medio_2006_min:22554,salario_medio_2006_avg:25725.78,salario_medio_2007_max:31062,salario_medio_2007_min:23618,salario_medio_2007_avg:26912.33,
salario_medio_2008_max:33176,salario_medio_2008_min:25540,salario_medio_2008_avg:28595.5,salario_medio_2009_max:34561,salario_medio_2009_min:26934,salario_medio_2009_avg:29729.89,salario_medio_normalizado_1995_max:18.21,salario_medio_normalizado_1995_min:-20.18,salario_medio_normalizado_1996_max:17.72,salario_medio_normalizado_1996_min:-17.74,salario_medio_normalizado_1997_max:18.14,salario_medio_normalizado_1997_min:-16.47,salario_medio_normalizado_1998_max:17.24,salario_medio_normalizado_1998_min:-16.38,
salario_medio_normalizado_1999_max:17.39,salario_medio_normalizado_1999_min:-16.31,salario_medio_normalizado_2000_max:17.14,salario_medio_normalizado_2000_min:-15.1,salario_medio_normalizado_2001_max:16.42,salario_medio_normalizado_2001_min:-14.77,salario_medio_normalizado_2002_max:14.97,salario_medio_normalizado_2002_min:-14.47,salario_medio_normalizado_2003_max:14.27,salario_medio_normalizado_2003_min:-14.78,salario_medio_normalizado_2004_max:14.56,salario_medio_normalizado_2004_min:-15.05,salario_medio_normalizado_2005_max:14.56,
salario_medio_normalizado_2005_min:-13.84,salario_medio_normalizado_2006_max:14.23,salario_medio_normalizado_2006_min:-12.77,salario_medio_normalizado_2007_max:14.74,salario_medio_normalizado_2007_min:-12.76,salario_medio_normalizado_2008_max:15.47,salario_medio_normalizado_2008_min:-11.11,salario_medio_normalizado_2009_max:15.68,salario_medio_normalizado_2009_min:-9.85,secundaria_acabada_2004_max:54.2,secundaria_acabada_2004_min:32.1,secundaria_acabada_2004_avg:41.38,secundaria_acabada_2005_max:54.8,
secundaria_acabada_2005_min:32.3,secundaria_acabada_2005_avg:43.46,secundaria_acabada_2006_max:56.4,secundaria_acabada_2006_min:32.9,secundaria_acabada_2006_avg:45.01,secundaria_acabada_2007_max:60.9,secundaria_acabada_2007_min:34,secundaria_acabada_2007_avg:48.26,secundaria_acabada_2008_max:62.9,secundaria_acabada_2008_min:35.1,secundaria_acabada_2008_avg:49.03,secundaria_acabada_2009_max:65.1,secundaria_acabada_2009_min:37.8,secundaria_acabada_2009_avg:51.07,secundaria_acabada_2010_max:65.1,secundaria_acabada_2010_min:37.8,
secundaria_acabada_2010_avg:51.07,secundaria_acabada_2011_max:64.9,secundaria_acabada_2011_min:38.7,secundaria_acabada_2011_avg:51.94,envejecimiento_1991_max:100.16,envejecimiento_1991_min:35.21,envejecimiento_1991_avg:69.85,envejecimiento_1992_max:105.93,envejecimiento_1992_min:36.66,envejecimiento_1992_avg:73.97,envejecimiento_1993_max:111.85,envejecimiento_1993_min:38.03,envejecimiento_1993_avg:78.4,envejecimiento_1994_max:118.29,envejecimiento_1994_min:39.53,envejecimiento_1994_avg:83.22,envejecimiento_1995_max:127.64,
envejecimiento_1995_min:41.02,envejecimiento_1995_avg:88.31,envejecimiento_1996_max:137.95,envejecimiento_1996_min:42.45,envejecimiento_1996_avg:93.6,envejecimiento_1997_max:148.41,envejecimiento_1997_min:44.15,envejecimiento_1997_avg:98.84,envejecimiento_1998_max:159.08,envejecimiento_1998_min:45.55,envejecimiento_1998_avg:103.88,envejecimiento_1999_max:169.59,envejecimiento_1999_min:46.89,envejecimiento_1999_avg:108.64,envejecimiento_2000_max:179.45,envejecimiento_2000_min:48.11,envejecimiento_2000_avg:112.82,
envejecimiento_2001_max:187.85,envejecimiento_2001_min:49.06,envejecimiento_2001_avg:116.04,envejecimiento_2002_max:194.97,envejecimiento_2002_min:49.68,envejecimiento_2002_avg:118.29,envejecimiento_2003_max:198.78,envejecimiento_2003_min:51.91,envejecimiento_2003_avg:118.81,envejecimiento_2004_max:200.44,envejecimiento_2004_min:53.44,envejecimiento_2004_avg:118.97,envejecimiento_2005_max:201.22,envejecimiento_2005_min:54.97,envejecimiento_2005_avg:119.02,envejecimiento_2006_max:200.97,envejecimiento_2006_min:56.59,
envejecimiento_2006_avg:118.73,envejecimiento_2007_max:200.24,envejecimiento_2007_min:58.19,envejecimiento_2007_avg:118.44,envejecimiento_2008_max:198.26,envejecimiento_2008_min:59.42,envejecimiento_2008_avg:117.56,envejecimiento_2009_max:196.68,envejecimiento_2009_min:59.75,envejecimiento_2009_avg:116.85,envejecimiento_2010_max:195.16,envejecimiento_2010_min:59.03,envejecimiento_2010_avg:116.66,envejecimiento_2011_max:194.12,envejecimiento_2011_min:58.49,envejecimiento_2011_avg:116.94,secundaria_acabada_normalizado_2004_max:29.91,
secundaria_acabada_normalizado_2004_min:-23.06,secundaria_acabada_normalizado_2005_max:25.15,secundaria_acabada_normalizado_2005_min:-26.24,secundaria_acabada_normalizado_2006_max:25.44,secundaria_acabada_normalizado_2006_min:-26.83,secundaria_acabada_normalizado_2007_max:26.86,secundaria_acabada_normalizado_2007_min:-29.17,secundaria_acabada_normalizado_2008_max:29.66,secundaria_acabada_normalizado_2008_min:-27.65,secundaria_acabada_normalizado_2009_max:28.7,secundaria_acabada_normalizado_2009_min:-25.27,
secundaria_acabada_normalizado_2010_max:28.7,secundaria_acabada_normalizado_2010_min:-25.27,secundaria_acabada_normalizado_2011_max:26.5,secundaria_acabada_normalizado_2011_min:-24.57,envejecimiento_normalizado_1991_max:32.18,envejecimiento_normalizado_1991_min:-32.76,envejecimiento_normalizado_1992_max:34,envejecimiento_normalizado_1992_min:-35.28,envejecimiento_normalizado_1993_max:35.67,envejecimiento_normalizado_1993_min:-38.14,envejecimiento_normalizado_1994_max:37.51,envejecimiento_normalizado_1994_min:-41.25,
envejecimiento_normalizado_1995_max:41.99,envejecimiento_normalizado_1995_min:-44.64,envejecimiento_normalizado_1996_max:47.23,envejecimiento_normalizado_1996_min:-48.27,envejecimiento_normalizado_1997_max:52.67,envejecimiento_normalizado_1997_min:-51.59,envejecimiento_normalizado_1998_max:58.51,envejecimiento_normalizado_1998_min:-55.02,envejecimiento_normalizado_1999_max:64.48,envejecimiento_normalizado_1999_min:-58.22,envejecimiento_normalizado_2000_max:70.33,envejecimiento_normalizado_2000_min:-61,
envejecimiento_normalizado_2001_max:75.65,envejecimiento_normalizado_2001_min:-63.13,envejecimiento_normalizado_2002_max:80.6,envejecimiento_normalizado_2002_min:-64.68,envejecimiento_normalizado_2003_max:83.81,envejecimiento_normalizado_2003_min:-63.05,envejecimiento_normalizado_2004_max:85.28,envejecimiento_normalizado_2004_min:-61.72,envejecimiento_normalizado_2005_max:85.96,envejecimiento_normalizado_2005_min:-60.29,envejecimiento_normalizado_2006_max:85.93,envejecimiento_normalizado_2006_min:-58.46,
envejecimiento_normalizado_2007_max:85.43,envejecimiento_normalizado_2007_min:-56.62,envejecimiento_normalizado_2008_max:84.25,envejecimiento_normalizado_2008_min:-54.58,envejecimiento_normalizado_2009_max:83.34,envejecimiento_normalizado_2009_min:-53.58,envejecimiento_normalizado_2010_max:82.07,envejecimiento_normalizado_2010_min:-54.07,envejecimiento_normalizado_2011_max:80.8,envejecimiento_normalizado_2011_min:-54.84,penetracion_internet_normalizado_2004_max:27.89,penetracion_internet_normalizado_2004_min:-24.47,
penetracion_internet_normalizado_2004_avg:0,penetracion_internet_normalizado_2005_max:34.2,penetracion_internet_normalizado_2005_min:-32.75,penetracion_internet_normalizado_2005_avg:0,penetracion_internet_normalizado_2006_max:30.44,penetracion_internet_normalizado_2006_min:-43.77,penetracion_internet_normalizado_2006_avg:0,penetracion_internet_normalizado_2007_max:29.37,penetracion_internet_normalizado_2007_min:-37.61,penetracion_internet_normalizado_2007_avg:0,penetracion_internet_normalizado_2008_max:23.86,
penetracion_internet_normalizado_2008_min:-23.78,penetracion_internet_normalizado_2008_avg:0,penetracion_internet_normalizado_2009_max:20.64,penetracion_internet_normalizado_2009_min:-25.07,penetracion_internet_normalizado_2009_avg:0,penetracion_internet_normalizado_2010_max:15.37,penetracion_internet_normalizado_2010_min:-16,penetracion_internet_normalizado_2010_avg:0,audiencia_diaria_tv_normalizado_1997_max:6.32,audiencia_diaria_tv_normalizado_1997_min:-4.15,audiencia_diaria_tv_normalizado_1997_avg:0,
audiencia_diaria_tv_normalizado_1998_max:4.25,audiencia_diaria_tv_normalizado_1998_min:-4.06,audiencia_diaria_tv_normalizado_1998_avg:0,audiencia_diaria_tv_normalizado_1999_max:6.66,audiencia_diaria_tv_normalizado_1999_min:-6.23,audiencia_diaria_tv_normalizado_1999_avg:0,audiencia_diaria_tv_normalizado_2000_max:5.13,audiencia_diaria_tv_normalizado_2000_min:-3.71,audiencia_diaria_tv_normalizado_2000_avg:0,audiencia_diaria_tv_normalizado_2001_max:5.01,audiencia_diaria_tv_normalizado_2001_min:-5.65,
audiencia_diaria_tv_normalizado_2001_avg:0,audiencia_diaria_tv_normalizado_2002_max:2.95,audiencia_diaria_tv_normalizado_2002_min:-4.93,audiencia_diaria_tv_normalizado_2002_avg:0,audiencia_diaria_tv_normalizado_2003_max:4.52,audiencia_diaria_tv_normalizado_2003_min:-5.51,audiencia_diaria_tv_normalizado_2003_avg:0,audiencia_diaria_tv_normalizado_2004_max:4.52,audiencia_diaria_tv_normalizado_2004_min:-4.17,audiencia_diaria_tv_normalizado_2004_avg:0,audiencia_diaria_tv_normalizado_2005_max:4.68,audiencia_diaria_tv_normalizado_2005_min:-3.76,
audiencia_diaria_tv_normalizado_2005_avg:0,audiencia_diaria_tv_normalizado_2006_max:5.72,audiencia_diaria_tv_normalizado_2006_min:-4.37,audiencia_diaria_tv_normalizado_2006_avg:0,audiencia_diaria_tv_normalizado_2007_max:6.47,audiencia_diaria_tv_normalizado_2007_min:-4.86,audiencia_diaria_tv_normalizado_2007_avg:0,audiencia_diaria_tv_normalizado_2008_max:5.26,audiencia_diaria_tv_normalizado_2008_min:-5.57,audiencia_diaria_tv_normalizado_2008_avg:0,audiencia_diaria_tv_normalizado_2009_max:3.42,audiencia_diaria_tv_normalizado_2009_min:-4.31,
audiencia_diaria_tv_normalizado_2009_avg:0,prensa_diaria_normalizado_2000_max:49.45,prensa_diaria_normalizado_2000_min:-51.34,prensa_diaria_normalizado_2000_avg:0,prensa_diaria_normalizado_2001_max:45.71,prensa_diaria_normalizado_2001_min:-50.41,prensa_diaria_normalizado_2001_avg:3.48,prensa_diaria_normalizado_2002_max:49.3,prensa_diaria_normalizado_2002_min:-44.61,prensa_diaria_normalizado_2002_avg:3.44,prensa_diaria_normalizado_2003_max:42.08,prensa_diaria_normalizado_2003_min:-46.87,prensa_diaria_normalizado_2003_avg:3.61,
prensa_diaria_normalizado_2004_max:32.91,prensa_diaria_normalizado_2004_min:-40.8,prensa_diaria_normalizado_2004_avg:3.57,prensa_diaria_normalizado_2005_max:38.66,prensa_diaria_normalizado_2005_min:-38.35,prensa_diaria_normalizado_2005_avg:3.44,prensa_diaria_normalizado_2006_max:39.49,prensa_diaria_normalizado_2006_min:-37.63,prensa_diaria_normalizado_2006_avg:3.41,prensa_diaria_normalizado_2007_max:37.62,prensa_diaria_normalizado_2007_min:-36.43,prensa_diaria_normalizado_2007_avg:3.52,prensa_diaria_normalizado_2008_max:37.82,
prensa_diaria_normalizado_2008_min:-40.17,prensa_diaria_normalizado_2008_avg:3.49,prensa_diaria_normalizado_2009_max:34.77,prensa_diaria_normalizado_2009_min:-36.58,prensa_diaria_normalizado_2009_avg:3.49,paro_epa_2005_max:16.87,paro_epa_2005_min:5.68,paro_epa_2005_avg:9.36,paro_epa_2006_max:17.12,paro_epa_2006_min:5.35,paro_epa_2006_avg:8.71,paro_epa_2007_max:19.34,paro_epa_2007_min:4.8,paro_epa_2007_avg:8.39,paro_epa_2008_max:19.17,paro_epa_2008_min:6.47,paro_epa_2008_avg:10.92,paro_epa_2009_max:26.37,
paro_epa_2009_min:10.91,paro_epa_2009_avg:16.89,paro_epa_2010_max:28.89,paro_epa_2010_min:10.61,paro_epa_2010_avg:18.88,paro_epa_2011_max:29.83,paro_epa_2011_min:11.66,paro_epa_2011_avg:20.52,inmigracion_1999_max:19.52,inmigracion_1999_min:0.29,inmigracion_1999_avg:4.68,inmigracion_2000_max:22.67,inmigracion_2000_min:0.36,inmigracion_2000_avg:5.39,inmigracion_2001_max:34.01,inmigracion_2001_min:0.58,inmigracion_2001_avg:7.28,inmigracion_2002_max:44.69,inmigracion_2002_min:0.76,inmigracion_2002_avg:9.48,
inmigracion_2003_max:55.06,inmigracion_2003_min:0.86,inmigracion_2003_avg:11.81,inmigracion_2004_max:60.18,inmigracion_2004_min:0.92,inmigracion_2004_avg:13.05,inmigracion_2005_max:66.87,inmigracion_2005_min:0.99,inmigracion_2005_avg:15.24,inmigracion_2006_max:67.33,inmigracion_2006_min:1.05,inmigracion_2006_avg:16.56,inmigracion_2007_max:72.02,inmigracion_2007_min:1.1,inmigracion_2007_avg:17.69,inmigracion_2008_max:81.23,inmigracion_2008_min:1.25,inmigracion_2008_avg:19.94,inmigracion_2009_max:85.38,
inmigracion_2009_min:1.38,inmigracion_2009_avg:20.98,inmigracion_2010_max:86.73,inmigracion_2010_min:1.44,inmigracion_2010_avg:21.32,paro_epa_normalizado_2005_max:80.18,paro_epa_normalizado_2005_min:-39.38,paro_epa_normalizado_2006_max:96.6,paro_epa_normalizado_2006_min:-38.56,paro_epa_normalizado_2007_max:130.43,paro_epa_normalizado_2007_min:-42.85,paro_epa_normalizado_2008_max:75.48,paro_epa_normalizado_2008_min:-40.77,paro_epa_normalizado_2009_max:56.13,paro_epa_normalizado_2009_min:-35.4,paro_epa_normalizado_2010_max:52.99,
paro_epa_normalizado_2010_min:-43.84,paro_epa_normalizado_2011_max:45.37,paro_epa_normalizado_2011_min:-43.18,inmigracion_normalizado_1999_max:316.76,inmigracion_normalizado_1999_min:-93.84,inmigracion_normalizado_2000_max:320.42,inmigracion_normalizado_2000_min:-93.38,inmigracion_normalizado_2001_max:367.18,inmigracion_normalizado_2001_min:-92.03,inmigracion_normalizado_2002_max:371.33,inmigracion_normalizado_2002_min:-92,inmigracion_normalizado_2003_max:366.38,inmigracion_normalizado_2003_min:-92.71,
inmigracion_normalizado_2004_max:361.05,inmigracion_normalizado_2004_min:-92.97,inmigracion_normalizado_2005_max:338.78,inmigracion_normalizado_2005_min:-93.5,inmigracion_normalizado_2006_max:306.64,inmigracion_normalizado_2006_min:-93.67,inmigracion_normalizado_2007_max:307.18,inmigracion_normalizado_2007_min:-93.77,inmigracion_normalizado_2008_max:307.31,inmigracion_normalizado_2008_min:-93.71,inmigracion_normalizado_2009_max:306.95,inmigracion_normalizado_2009_min:-93.4,inmigracion_normalizado_2010_max:306.71,
inmigracion_normalizado_2010_min:-93.23,jovenes_parados_1991_max:21.49,jovenes_parados_1991_min:0,jovenes_parados_1991_avg:11.8,jovenes_parados_1992_max:20.06,jovenes_parados_1992_min:0,jovenes_parados_1992_avg:11.78,jovenes_parados_1993_max:24.46,jovenes_parados_1993_min:0,jovenes_parados_1993_avg:15.41,jovenes_parados_1994_max:27.1,jovenes_parados_1994_min:0,jovenes_parados_1994_avg:18.16,jovenes_parados_1995_max:26.64,jovenes_parados_1995_min:0,jovenes_parados_1995_avg:16.82,jovenes_parados_1996_max:24.82,
jovenes_parados_1996_min:0,jovenes_parados_1996_avg:15.71,jovenes_parados_1997_max:25.5,jovenes_parados_1997_min:0,jovenes_parados_1997_avg:14.25,jovenes_parados_1998_max:23.23,jovenes_parados_1998_min:0,jovenes_parados_1998_avg:12.08,jovenes_parados_1999_max:20.8,jovenes_parados_1999_min:0,jovenes_parados_1999_avg:9.44,jovenes_parados_2000_max:17.54,jovenes_parados_2000_min:0,jovenes_parados_2000_avg:7.49,jovenes_parados_2001_max:10.42,jovenes_parados_2001_min:0,jovenes_parados_2001_avg:4.53,jovenes_parados_2002_max:9.25,
jovenes_parados_2002_min:0,jovenes_parados_2002_avg:4.88,jovenes_parados_2003_max:9.22,jovenes_parados_2003_min:0,jovenes_parados_2003_avg:4.75,jovenes_parados_2004_max:8.3,jovenes_parados_2004_min:0,jovenes_parados_2004_avg:4.2,jovenes_parados_2005_max:5.76,jovenes_parados_2005_min:0,jovenes_parados_2005_avg:2.86,jovenes_parados_2006_max:5.03,jovenes_parados_2006_min:0,jovenes_parados_2006_avg:2.27,jovenes_parados_2007_max:4.67,jovenes_parados_2007_min:0,jovenes_parados_2007_avg:1.83,jovenes_parados_2008_max:5.57,
jovenes_parados_2008_min:0,jovenes_parados_2008_avg:2.32,jovenes_parados_2009_max:10.09,jovenes_parados_2009_min:0,jovenes_parados_2009_avg:5.68,edad_media_2000_max:42.59,edad_media_2000_min:33.56,edad_media_2000_avg:39.24,edad_media_2001_max:42.96,edad_media_2001_min:33.9,edad_media_2001_avg:39.51,edad_media_2002_max:43.63,edad_media_2002_min:34.32,edad_media_2002_avg:39.91,edad_media_2003_max:43.89,edad_media_2003_min:34.58,edad_media_2003_avg:40.01,edad_media_2004_max:44.18,edad_media_2004_min:34.77,
edad_media_2004_avg:40.15,edad_media_2005_max:44.38,edad_media_2005_min:34.89,edad_media_2005_avg:40.26,edad_media_2006_max:44.63,edad_media_2006_min:35,edad_media_2006_avg:40.41,edad_media_2007_max:44.86,edad_media_2007_min:35.08,edad_media_2007_avg:40.53,edad_media_2008_max:45.01,edad_media_2008_min:35.2,edad_media_2008_avg:40.58,edad_media_2009_max:45.12,edad_media_2009_min:35.3,edad_media_2009_avg:40.69,edad_media_2010_max:45.31,edad_media_2010_min:35.29,edad_media_2010_avg:40.88,jovenes_parados_normalizado_1991_max:0.82,
jovenes_parados_normalizado_1991_min:-0.53,jovenes_parados_normalizado_1992_max:0.7,jovenes_parados_normalizado_1992_min:-0.68,jovenes_parados_normalizado_1993_max:0.59,jovenes_parados_normalizado_1993_min:-0.45,jovenes_parados_normalizado_1994_max:0.49,jovenes_parados_normalizado_1994_min:-0.41,jovenes_parados_normalizado_1995_max:0.58,jovenes_parados_normalizado_1995_min:-0.54,jovenes_parados_normalizado_1996_max:0.58,jovenes_parados_normalizado_1996_min:-0.62,jovenes_parados_normalizado_1997_max:0.79,
jovenes_parados_normalizado_1997_min:-0.61,jovenes_parados_normalizado_1998_max:0.92,jovenes_parados_normalizado_1998_min:-0.62,jovenes_parados_normalizado_1999_max:1.2,jovenes_parados_normalizado_1999_min:-0.68,jovenes_parados_normalizado_2000_max:1.34,jovenes_parados_normalizado_2000_min:-0.73,jovenes_parados_normalizado_2001_max:1.3,jovenes_parados_normalizado_2001_min:-0.68,jovenes_parados_normalizado_2002_max:0.89,jovenes_parados_normalizado_2002_min:-0.75,jovenes_parados_normalizado_2003_max:0.94,
jovenes_parados_normalizado_2003_min:-0.62,jovenes_parados_normalizado_2004_max:0.98,jovenes_parados_normalizado_2004_min:-0.64,jovenes_parados_normalizado_2005_max:1.02,jovenes_parados_normalizado_2005_min:-0.57,jovenes_parados_normalizado_2006_max:1.22,jovenes_parados_normalizado_2006_min:-0.72,jovenes_parados_normalizado_2007_max:1.55,jovenes_parados_normalizado_2007_min:-0.72,jovenes_parados_normalizado_2008_max:1.4,jovenes_parados_normalizado_2008_min:-0.61,jovenes_parados_normalizado_2009_max:0.78,
jovenes_parados_normalizado_2009_min:-0.53,saldo_vegetativo_1975_max:15.85,saldo_vegetativo_1975_min:5.17,saldo_vegetativo_1975_avg:9.58,saldo_vegetativo_1976_max:15.24,saldo_vegetativo_1976_min:5.46,saldo_vegetativo_1976_avg:9.79,saldo_vegetativo_1977_max:14.13,saldo_vegetativo_1977_min:5.01,saldo_vegetativo_1977_avg:9.04,saldo_vegetativo_1978_max:13.14,saldo_vegetativo_1978_min:5,saldo_vegetativo_1978_avg:8.52,saldo_vegetativo_1979_max:12.72,saldo_vegetativo_1979_min:4.43,saldo_vegetativo_1979_avg:7.74,
saldo_vegetativo_1980_max:12.13,saldo_vegetativo_1980_min:3.72,saldo_vegetativo_1980_avg:7.08,saldo_vegetativo_1981_max:11.12,saldo_vegetativo_1981_min:3.08,saldo_vegetativo_1981_avg:6.12,saldo_vegetativo_1982_max:10.14,saldo_vegetativo_1982_min:2.1,saldo_vegetativo_1982_avg:5.71,saldo_vegetativo_1983_max:9.65,saldo_vegetativo_1983_min:1.24,saldo_vegetativo_1983_avg:4.59,saldo_vegetativo_1984_max:8.78,saldo_vegetativo_1984_min:0.72,saldo_vegetativo_1984_avg:4.24,saldo_vegetativo_1985_max:9.33,saldo_vegetativo_1985_min:-0.27,
saldo_vegetativo_1985_avg:3.45,saldo_vegetativo_1986_max:8.46,saldo_vegetativo_1986_min:-0.29,saldo_vegetativo_1986_avg:3.08,saldo_vegetativo_1987_max:9.46,saldo_vegetativo_1987_min:-1.13,saldo_vegetativo_1987_avg:2.91,saldo_vegetativo_1988_max:10.28,saldo_vegetativo_1988_min:-2.12,saldo_vegetativo_1988_avg:2.57,saldo_vegetativo_1989_max:8.44,saldo_vegetativo_1989_min:-2.76,saldo_vegetativo_1989_avg:2.03,saldo_vegetativo_1990_max:7.3,saldo_vegetativo_1990_min:-3.32,saldo_vegetativo_1990_avg:1.53,
saldo_vegetativo_1991_max:8.34,saldo_vegetativo_1991_min:-3.45,saldo_vegetativo_1991_avg:1.32,saldo_vegetativo_1992_max:9.11,saldo_vegetativo_1992_min:-3.56,saldo_vegetativo_1992_avg:1.46,saldo_vegetativo_1993_max:9.75,saldo_vegetativo_1993_min:-4.35,saldo_vegetativo_1993_avg:0.96,saldo_vegetativo_1994_max:7.68,saldo_vegetativo_1994_min:-4.25,saldo_vegetativo_1994_avg:0.6,saldo_vegetativo_1995_max:8.65,saldo_vegetativo_1995_min:-4.99,saldo_vegetativo_1995_avg:0.29,saldo_vegetativo_1996_max:6.41,saldo_vegetativo_1996_min:-5.22,
saldo_vegetativo_1996_avg:0.04,saldo_vegetativo_1997_max:7.56,saldo_vegetativo_1997_min:-4.91,saldo_vegetativo_1997_avg:0.29,saldo_vegetativo_1998_max:6.43,saldo_vegetativo_1998_min:-5.53,saldo_vegetativo_1998_avg:-0.12,saldo_vegetativo_1999_max:7.36,saldo_vegetativo_1999_min:-5.73,saldo_vegetativo_1999_avg:-0.06,saldo_vegetativo_2000_max:7.65,saldo_vegetativo_2000_min:-5.33,saldo_vegetativo_2000_avg:0.58,saldo_vegetativo_2001_max:7.33,saldo_vegetativo_2001_min:-4.78,saldo_vegetativo_2001_avg:0.82,
saldo_vegetativo_2002_max:7.19,saldo_vegetativo_2002_min:-5.37,saldo_vegetativo_2002_avg:0.82,saldo_vegetativo_2003_max:7.28,saldo_vegetativo_2003_min:-5.32,saldo_vegetativo_2003_avg:0.92,saldo_vegetativo_2004_max:7.98,saldo_vegetativo_2004_min:-5.03,saldo_vegetativo_2004_avg:1.43,saldo_vegetativo_2005_max:7.96,saldo_vegetativo_2005_min:-4.93,saldo_vegetativo_2005_avg:1.27,saldo_vegetativo_2006_max:7.86,saldo_vegetativo_2006_min:-4.49,saldo_vegetativo_2006_avg:1.88,saldo_vegetativo_2007_max:8.34,
saldo_vegetativo_2007_min:-4.57,saldo_vegetativo_2007_avg:1.76,saldo_vegetativo_2008_max:9.23,saldo_vegetativo_2008_min:-4.27,saldo_vegetativo_2008_avg:2.33,saldo_vegetativo_2009_max:8.29,saldo_vegetativo_2009_min:-4.3,saldo_vegetativo_2009_avg:1.84,saldo_vegetativo_normalizado_1975_max:6.49,saldo_vegetativo_normalizado_1975_min:-4.19,saldo_vegetativo_normalizado_1976_max:5.56,saldo_vegetativo_normalizado_1976_min:-4.22,saldo_vegetativo_normalizado_1977_max:5.12,saldo_vegetativo_normalizado_1977_min:-3.99,
saldo_vegetativo_normalizado_1978_max:4.69,saldo_vegetativo_normalizado_1978_min:-3.44,saldo_vegetativo_normalizado_1979_max:5.01,saldo_vegetativo_normalizado_1979_min:-3.28,saldo_vegetativo_normalizado_1980_max:4.94,saldo_vegetativo_normalizado_1980_min:-3.46,saldo_vegetativo_normalizado_1981_max:4.85,saldo_vegetativo_normalizado_1981_min:-3.19,saldo_vegetativo_normalizado_1982_max:4.21,saldo_vegetativo_normalizado_1982_min:-3.82,saldo_vegetativo_normalizado_1983_max:4.74,saldo_vegetativo_normalizado_1983_min:-3.67,
saldo_vegetativo_normalizado_1984_max:4.24,saldo_vegetativo_normalizado_1984_min:-3.82,saldo_vegetativo_normalizado_1985_max:5.49,saldo_vegetativo_normalizado_1985_min:-4.11,saldo_vegetativo_normalizado_1986_max:4.98,saldo_vegetativo_normalizado_1986_min:-3.78,saldo_vegetativo_normalizado_1987_max:6.13,saldo_vegetativo_normalizado_1987_min:-4.46,saldo_vegetativo_normalizado_1988_max:7.26,saldo_vegetativo_normalizado_1988_min:-5.15,saldo_vegetativo_normalizado_1989_max:5.96,saldo_vegetativo_normalizado_1989_min:-5.24,
saldo_vegetativo_normalizado_1990_max:5.25,saldo_vegetativo_normalizado_1990_min:-5.36,saldo_vegetativo_normalizado_1991_max:6.49,saldo_vegetativo_normalizado_1991_min:-5.3,saldo_vegetativo_normalizado_1992_max:6.98,saldo_vegetativo_normalizado_1992_min:-5.69,saldo_vegetativo_normalizado_1993_max:8.17,saldo_vegetativo_normalizado_1993_min:-5.93,saldo_vegetativo_normalizado_1994_max:6.56,saldo_vegetativo_normalizado_1994_min:-5.37,saldo_vegetativo_normalizado_1995_max:7.81,saldo_vegetativo_normalizado_1995_min:-5.84,
saldo_vegetativo_normalizado_1996_max:5.85,saldo_vegetativo_normalizado_1996_min:-5.79,saldo_vegetativo_normalizado_1997_max:6.77,saldo_vegetativo_normalizado_1997_min:-5.7,saldo_vegetativo_normalizado_1998_max:6.05,saldo_vegetativo_normalizado_1998_min:-5.91,saldo_vegetativo_normalizado_1999_max:6.91,saldo_vegetativo_normalizado_1999_min:-6.18,saldo_vegetativo_normalizado_2000_max:6.55,saldo_vegetativo_normalizado_2000_min:-6.42,saldo_vegetativo_normalizado_2001_max:5.97,saldo_vegetativo_normalizado_2001_min:-6.14,
saldo_vegetativo_normalizado_2002_max:5.94,saldo_vegetativo_normalizado_2002_min:-6.62,saldo_vegetativo_normalizado_2003_max:5.89,saldo_vegetativo_normalizado_2003_min:-6.71,saldo_vegetativo_normalizado_2004_max:6.21,saldo_vegetativo_normalizado_2004_min:-6.81,saldo_vegetativo_normalizado_2005_max:6.28,saldo_vegetativo_normalizado_2005_min:-6.6,saldo_vegetativo_normalizado_2006_max:5.55,saldo_vegetativo_normalizado_2006_min:-6.79,saldo_vegetativo_normalizado_2007_max:6.15,saldo_vegetativo_normalizado_2007_min:-6.76,
saldo_vegetativo_normalizado_2008_max:6.42,saldo_vegetativo_normalizado_2008_min:-7.08,saldo_vegetativo_normalizado_2009_max:5.9,saldo_vegetativo_normalizado_2009_min:-6.7,parados_larga_duracion_1991_max:12.66,parados_larga_duracion_1991_min:0,parados_larga_duracion_1991_avg:7.36,parados_larga_duracion_1992_max:13.69,parados_larga_duracion_1992_min:0,parados_larga_duracion_1992_avg:7.74,parados_larga_duracion_1993_max:16.2,parados_larga_duracion_1993_min:0,parados_larga_duracion_1993_avg:10.03,parados_larga_duracion_1994_max:18.19,
parados_larga_duracion_1994_min:0,parados_larga_duracion_1994_avg:11.82,parados_larga_duracion_1995_max:18.12,parados_larga_duracion_1995_min:0,parados_larga_duracion_1995_avg:11.16,parados_larga_duracion_1996_max:17.07,parados_larga_duracion_1996_min:0,parados_larga_duracion_1996_avg:10.42,parados_larga_duracion_1997_max:15.96,parados_larga_duracion_1997_min:0,parados_larga_duracion_1997_avg:9.58,parados_larga_duracion_1998_max:14.52,parados_larga_duracion_1998_min:0,parados_larga_duracion_1998_avg:8.39,
parados_larga_duracion_1999_max:12.78,parados_larga_duracion_1999_min:0,parados_larga_duracion_1999_avg:6.68,parados_larga_duracion_2000_max:10.52,parados_larga_duracion_2000_min:0,parados_larga_duracion_2000_avg:5.47,parados_larga_duracion_2001_max:7.39,parados_larga_duracion_2001_min:0,parados_larga_duracion_2001_avg:3.39,parados_larga_duracion_2002_max:7.15,parados_larga_duracion_2002_min:0,parados_larga_duracion_2002_avg:3.58,parados_larga_duracion_2003_max:6.87,parados_larga_duracion_2003_min:0,
parados_larga_duracion_2003_avg:3.56,parados_larga_duracion_2004_max:6.04,parados_larga_duracion_2004_min:0,parados_larga_duracion_2004_avg:3.31,parados_larga_duracion_2005_max:8.64,parados_larga_duracion_2005_min:1.13,parados_larga_duracion_2005_avg:2.92,parados_larga_duracion_2006_max:7.66,parados_larga_duracion_2006_min:0.8,parados_larga_duracion_2006_avg:2.4,parados_larga_duracion_2007_max:9.16,parados_larga_duracion_2007_min:0.7,parados_larga_duracion_2007_avg:2.22,parados_larga_duracion_2008_max:8.81,
parados_larga_duracion_2008_min:1.02,parados_larga_duracion_2008_avg:2.55,parados_larga_duracion_2009_max:11.06,parados_larga_duracion_2009_min:2.14,parados_larga_duracion_2009_avg:4.92,parados_larga_duracion_normalizado_1991_max:62.33,parados_larga_duracion_normalizado_1991_min:-52.87,parados_larga_duracion_normalizado_1992_max:67.06,parados_larga_duracion_normalizado_1992_min:-59.4,parados_larga_duracion_normalizado_1993_max:52.59,parados_larga_duracion_normalizado_1993_min:-42.46,parados_larga_duracion_normalizado_1994_max:45.29,
parados_larga_duracion_normalizado_1994_min:-42.87,parados_larga_duracion_normalizado_1995_max:53.29,parados_larga_duracion_normalizado_1995_min:-52.05,parados_larga_duracion_normalizado_1996_max:54.67,parados_larga_duracion_normalizado_1996_min:-54.2,parados_larga_duracion_normalizado_1997_max:57.34,parados_larga_duracion_normalizado_1997_min:-56.94,parados_larga_duracion_normalizado_1998_max:63.33,parados_larga_duracion_normalizado_1998_min:-53.06,parados_larga_duracion_normalizado_1999_max:80.49,
parados_larga_duracion_normalizado_1999_min:-62.33,parados_larga_duracion_normalizado_2000_max:81.58,parados_larga_duracion_normalizado_2000_min:-69.6,parados_larga_duracion_normalizado_2001_max:106.14,parados_larga_duracion_normalizado_2001_min:-68.61,parados_larga_duracion_normalizado_2002_max:88.54,parados_larga_duracion_normalizado_2002_min:-66.58,parados_larga_duracion_normalizado_2003_max:82.36,parados_larga_duracion_normalizado_2003_min:-67.35,parados_larga_duracion_normalizado_2004_max:72.36,
parados_larga_duracion_normalizado_2004_min:-63.8,parados_larga_duracion_normalizado_2005_max:77.23,parados_larga_duracion_normalizado_2005_min:-61.3,parados_larga_duracion_normalizado_2006_max:76.38,parados_larga_duracion_normalizado_2006_min:-66.79,parados_larga_duracion_normalizado_2007_max:76.72,parados_larga_duracion_normalizado_2007_min:-68.17,parados_larga_duracion_normalizado_2008_max:70.29,parados_larga_duracion_normalizado_2008_min:-60.19,parados_larga_duracion_normalizado_2009_max:74.75,
parados_larga_duracion_normalizado_2009_min:-56.56,matriculaciones_1997_max:234644,matriculaciones_1997_min:4634,matriculaciones_1997_avg:75931.83,matriculaciones_1998_max:283203,matriculaciones_1998_min:5525,matriculaciones_1998_avg:89990.94,matriculaciones_1999_max:327212,matriculaciones_1999_min:6100,matriculaciones_1999_avg:105252.56,matriculaciones_2000_max:313066,matriculaciones_2000_min:5487,matriculaciones_2000_avg:102642,matriculaciones_2001_max:338532,matriculaciones_2001_min:5146,matriculaciones_2001_avg:103597.11,
matriculaciones_2002_max:326736,matriculaciones_2002_min:4757,matriculaciones_2002_avg:97113.44,matriculaciones_2003_max:329048,matriculaciones_2003_min:5228,matriculaciones_2003_avg:104209.78,matriculaciones_2004_max:379513,matriculaciones_2004_min:5474,matriculaciones_2004_avg:117279.22,matriculaciones_2005_max:396584,matriculaciones_2005_min:5720,matriculaciones_2005_avg:125365.22,matriculaciones_2006_max:400867,matriculaciones_2006_min:5627,matriculaciones_2006_avg:127259.61,matriculaciones_2007_max:402570,
matriculaciones_2007_min:5958,matriculaciones_2007_avg:125540.11,matriculaciones_2008_max:328627,matriculaciones_2008_min:4994,matriculaciones_2008_avg:91905.33,matriculaciones_2009_max:239952,matriculaciones_2009_min:4329,matriculaciones_2009_avg:73026.67,edad_media_normalizado_2000_max:3.66,edad_media_normalizado_2000_min:-5.38,edad_media_normalizado_2001_max:3.79,edad_media_normalizado_2001_min:-5.27,edad_media_normalizado_2002_max:4.06,edad_media_normalizado_2002_min:-5.24,edad_media_normalizado_2003_max:4.22,
edad_media_normalizado_2003_min:-5.1,edad_media_normalizado_2004_max:4.36,edad_media_normalizado_2004_min:-5.05,edad_media_normalizado_2005_max:4.45,edad_media_normalizado_2005_min:-5.04,edad_media_normalizado_2006_max:4.54,edad_media_normalizado_2006_min:-5.08,edad_media_normalizado_2007_max:4.66,edad_media_normalizado_2007_min:-5.12,edad_media_normalizado_2008_max:4.76,edad_media_normalizado_2008_min:-5.06,edad_media_normalizado_2009_max:4.75,edad_media_normalizado_2009_min:-5.06,edad_media_normalizado_2010_max:5.13,
edad_media_normalizado_2010_min:-4.89,detenidos_1993_max:30.8,detenidos_1993_min:0.88,detenidos_1993_avg:6.19,detenidos_1994_max:34.21,detenidos_1994_min:0.74,detenidos_1994_avg:6.29,detenidos_1995_max:36.29,detenidos_1995_min:0.31,detenidos_1995_avg:6.43,detenidos_1996_max:35.49,detenidos_1996_min:0.14,detenidos_1996_avg:6.58,detenidos_1997_max:35.1,detenidos_1997_min:0.16,detenidos_1997_avg:6.46,detenidos_1998_max:31.17,detenidos_1998_min:0.12,detenidos_1998_avg:6.14,detenidos_1999_max:34.57,detenidos_1999_min:2.6,
detenidos_1999_avg:6.69,detenidos_2000_max:33.61,detenidos_2000_min:2.62,detenidos_2000_avg:6.73,detenidos_2001_max:31.9,detenidos_2001_min:2.86,detenidos_2001_avg:6.79,detenidos_2002_max:32.74,detenidos_2002_min:2.92,detenidos_2002_avg:6.95,detenidos_2003_max:26.02,detenidos_2003_min:2.75,detenidos_2003_avg:6.11,detenidos_2004_max:25.6,detenidos_2004_min:3.05,detenidos_2004_avg:6.67,detenidos_2005_max:26.06,detenidos_2005_min:3.01,detenidos_2005_avg:6.88,detenidos_2006_max:25.04,detenidos_2006_min:2.34,
detenidos_2006_avg:6.92,detenidos_2007_max:26.49,detenidos_2007_min:3.29,detenidos_2007_avg:7.45,detenidos_2008_max:31.45,detenidos_2008_min:4.37,detenidos_2008_avg:8.6,detenidos_2009_max:31.45,detenidos_2009_min:4.29,detenidos_2009_avg:8.78,matriculaciones_normalizado_1997_max:209.02,matriculaciones_normalizado_1997_min:-93.9,matriculaciones_normalizado_1998_max:214.7,matriculaciones_normalizado_1998_min:-93.86,matriculaciones_normalizado_1999_max:210.88,matriculaciones_normalizado_1999_min:-94.2,
matriculaciones_normalizado_2000_max:205.01,matriculaciones_normalizado_2000_min:-94.65,matriculaciones_normalizado_2001_max:226.78,matriculaciones_normalizado_2001_min:-95.03,matriculaciones_normalizado_2002_max:236.45,matriculaciones_normalizado_2002_min:-95.1,matriculaciones_normalizado_2003_max:215.76,matriculaciones_normalizado_2003_min:-94.98,matriculaciones_normalizado_2004_max:223.6,matriculaciones_normalizado_2004_min:-95.33,matriculaciones_normalizado_2005_max:216.34,matriculaciones_normalizado_2005_min:-95.44,
matriculaciones_normalizado_2006_max:215,matriculaciones_normalizado_2006_min:-95.58,matriculaciones_normalizado_2007_max:220.67,matriculaciones_normalizado_2007_min:-95.25,matriculaciones_normalizado_2008_max:257.57,matriculaciones_normalizado_2008_min:-94.57,matriculaciones_normalizado_2009_max:228.58,matriculaciones_normalizado_2009_min:-94.07,pib_1999_max:19.7,pib_1999_min:9.06,pib_1999_avg:14.17,pib_2000_max:21.36,pib_2000_min:9.86,pib_2000_avg:15.23,pib_2001_max:22.46,pib_2001_min:10.52,pib_2001_avg:16.11,
pib_2002_max:23.41,pib_2002_min:11.27,pib_2002_avg:16.91,pib_2003_max:24.22,pib_2003_min:12.11,pib_2003_avg:17.8,pib_2004_max:25.64,pib_2004_min:12.98,pib_2004_avg:18.87,pib_2005_max:26.94,pib_2005_min:13.88,pib_2005_avg:20.03,pib_2006_max:29.07,pib_2006_min:14.54,pib_2006_avg:21.39,pib_2007_max:30.67,pib_2007_min:14.86,pib_2007_avg:22.67,pib_2008_max:31.5,pib_2008_min:15.15,pib_2008_avg:23};var var_resolutions={municipios:{inmigracion:[1999,2E3,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010],inmigracion_normalizado:[1999,2E3,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010],edad_media:[2E3,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010],edad_media_normalizado:[2E3,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010]},provincias:{inmigracion:[1999,2E3,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010],pib:[1999,2E3,2001,2002,2003,2004,2005,2006,2007,2008],inmigracion_normalizado:[1999,
2E3,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010],pib_normalizado:[1999,2E3,2001,2002,2003,2004,2005,2006,2007,2008],saldo_vegetativo:[1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2E3,2001,2002,2003,2004,2005,2006,2007,2008,2009],saldo_vegetativo_normalizado:[1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2E3,2001,2002,2003,2004,2005,2006,2007,2008,2009],edad_media:[2E3,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010],matriculaciones:[1997,1998,1999,2E3,
2001,2002,2003,2004,2005,2006,2007,2008,2009],edad_media_normalizado:[2E3,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010],detenidos:[1993,1994,1995,1996,1997,1998,1999,2E3,2001,2002,2003,2004,2005,2006,2007,2008,2009],matriculaciones_normalizado:[1997,1998,1999,2E3,2001,2002,2003,2004,2005,2006,2007,2008,2009],detenidos_normalizado:[1993,1994,1995,1996,1997,1998,1999,2E3,2001,2002,2003,2004,2005,2006,2007,2008,2009],envejecimiento:[1991,1992,1993,1994,1995,1996,1997,1998,1999,2E3,2001,2002,2003,
2004,2005,2006,2007,2008,2009,2010,2011],envejecimiento_normalizado:[1991,1992,1993,1994,1995,1996,1997,1998,1999,2E3,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011]},autonomias:{inmigracion:[1999,2E3,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010],pib:[1999,2E3,2001,2002,2003,2004,2005,2006,2007,2008],inmigracion_normalizado:[1999,2E3,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010],jovenes_parados:[1991,1992,1993,1994,1995,1996,1997,1998,1999,2E3,2001,2002,2003,2004,2005,2006,2007,
2008,2009],jovenes_parados_normalizado:[1991,1992,1993,1994,1995,1996,1997,1998,1999,2E3,2001,2002,2003,2004,2005,2006,2007,2008,2009],pib_normalizado:[1999,2E3,2001,2002,2003,2004,2005,2006,2007,2008],salario_medio:[1995,1996,1997,1998,1999,2E3,2001,2002,2003,2004,2005,2006,2007,2008,2009],salario_medio_normalizado:[1995,1996,1997,1998,1999,2E3,2001,2002,2003,2004,2005,2006,2007,2008,2009],saldo_vegetativo:[1975,1976,1977,1978,1979,1980,1981,1982,1983,1984,1985,1986,1987,1988,1989,1990,1991,1992,
1993,1994,1995,1996,1997,1998,1999,2E3,2001,2002,2003,2004,2005,2006,2007,2008,2009],saldo_vegetativo_normalizado:[1975,1976,1977,1978,1979,1980,1981,1982,1983,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2E3,2001,2002,2003,2004,2005,2006,2007,2008,2009],parados_larga_duracion:[1991,1992,1993,1994,1995,1996,1997,1998,1999,2E3,2001,2002,2003,2004,2005,2006,2007,2008,2009],parados_larga_duracion_normalizado:[1991,1992,1993,1994,1995,1996,1997,1998,1999,2E3,2001,2002,
2003,2004,2005,2006,2007,2008,2009],edad_media:[2E3,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010],matriculaciones:[1997,1998,1999,2E3,2001,2002,2003,2004,2005,2006,2007,2008,2009],edad_media_normalizado:[2E3,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010],detenidos:[1993,1994,1995,1996,1997,1998,1999,2E3,2001,2002,2003,2004,2005,2006,2007,2008,2009],matriculaciones_normalizado:[1997,1998,1999,2E3,2001,2002,2003,2004,2005,2006,2007,2008,2009],detenidos_normalizado:[1993,1994,1995,1996,1997,
1998,1999,2E3,2001,2002,2003,2004,2005,2006,2007,2008,2009],secundaria_acabada:[2004,2005,2006,2007,2008,2009,2010,2011],envejecimiento:[1991,1992,1993,1994,1995,1996,1997,1998,1999,2E3,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011],secundaria_acabada_normalizado:[2004,2005,2006,2007,2008,2009,2010,2011],envejecimiento_normalizado:[1991,1992,1993,1994,1995,1996,1997,1998,1999,2E3,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011],penetracion_internet_normalizado:[2004,2005,2006,2007,
2008,2009,2010],audiencia_diaria_tv_normalizado:[1997,1998,1999,2E3,2001,2002,2003,2004,2005,2006,2007,2008,2009],prensa_diaria_normalizado:[2E3,2001,2002,2003,2004,2005,2006,2007,2008,2009],paro_epa:[2005,2006,2007,2008,2009,2010,2011],paro_epa_normalizado:[2005,2006,2007,2008,2009,2010,2011]}};var global_url="http://datos.rtve.es/elecciones/autonomicas-municipales/data",tiles_pngs_url="http://datos{n}.rtve.es/elecciones/autonomicas-municipales/data/tiles/",proxy_url="proxy.php",tiles_version="live",bubbles_version="current",gmaps_version="current",graph_version="current",ua=$.browser,ie_=!1;
window.location.hostname=="localhost"||window.location.hostname=="elections"||window.location.hostname=="192.168.1.147"?global_url=proxy_url+"?proxy_url="+global_url:window.location.hostname=="datos.rtve.es"&&(global_url="http://datos.rtve.es/elecciones/autonomicas-municipales/data");if(ua.msie)ua.version.slice(0,3)<"7.0"?window.location.href="http://cartodb.com/":ua.version.slice(0,3)<"9.0"&&(ie_=!0);(function(){var a=this,b=a._,d={},c=Array.prototype,e=Object.prototype,f=c.slice,h=c.unshift,j=e.toString,l=e.hasOwnProperty,i=c.forEach,k=c.map,m=c.reduce,p=c.reduceRight,v=c.filter,w=c.every,s=c.some,q=c.indexOf,n=c.lastIndexOf,e=Array.isArray,u=Object.keys,r=Function.prototype.bind,g=function(a){return new t(a)};typeof module!=="undefined"&&module.exports?(module.exports=g,g._=g):a._=g;g.VERSION="1.1.6";var o=g.each=g.forEach=function(a,b,c){if(a!=null)if(i&&a.forEach===i)a.forEach(b,c);else if(g.isNumber(a.length))for(var e=
0,f=a.length;e<f;e++){if(b.call(c,a[e],e,a)===d)break}else for(e in a)if(l.call(a,e)&&b.call(c,a[e],e,a)===d)break};g.map=function(a,b,c){var d=[];if(a==null)return d;if(k&&a.map===k)return a.map(b,c);o(a,function(a,e,f){d[d.length]=b.call(c,a,e,f)});return d};g.reduce=g.foldl=g.inject=function(a,b,c,d){var e=c!==void 0;a==null&&(a=[]);if(m&&a.reduce===m)return d&&(b=g.bind(b,d)),e?a.reduce(b,c):a.reduce(b);o(a,function(a,f,x){!e&&f===0?(c=a,e=!0):c=b.call(d,c,a,f,x)});if(!e)throw new TypeError("Reduce of empty array with no initial value");
return c};g.reduceRight=g.foldr=function(a,b,c,d){a==null&&(a=[]);if(p&&a.reduceRight===p)return d&&(b=g.bind(b,d)),c!==void 0?a.reduceRight(b,c):a.reduceRight(b);a=(g.isArray(a)?a.slice():g.toArray(a)).reverse();return g.reduce(a,b,c,d)};g.find=g.detect=function(a,b,c){var d;A(a,function(a,e,f){if(b.call(c,a,e,f))return d=a,!0});return d};g.filter=g.select=function(a,b,c){var d=[];if(a==null)return d;if(v&&a.filter===v)return a.filter(b,c);o(a,function(a,e,f){b.call(c,a,e,f)&&(d[d.length]=a)});return d};
g.reject=function(a,b,c){var d=[];if(a==null)return d;o(a,function(a,e,f){b.call(c,a,e,f)||(d[d.length]=a)});return d};g.every=g.all=function(a,b,c){var e=!0;if(a==null)return e;if(w&&a.every===w)return a.every(b,c);o(a,function(a,f,x){if(!(e=e&&b.call(c,a,f,x)))return d});return e};var A=g.some=g.any=function(a,b,c){b||(b=g.identity);var e=!1;if(a==null)return e;if(s&&a.some===s)return a.some(b,c);o(a,function(a,f,x){if(e=b.call(c,a,f,x))return d});return e};g.include=g.contains=function(a,b){var c=
!1;if(a==null)return c;if(q&&a.indexOf===q)return a.indexOf(b)!=-1;A(a,function(a){if(c=a===b)return!0});return c};g.invoke=function(a,b){var c=f.call(arguments,2);return g.map(a,function(a){return(b.call?b||a:a[b]).apply(a,c)})};g.pluck=function(a,b){return g.map(a,function(a){return a[b]})};g.max=function(a,b,c){if(!b&&g.isArray(a))return Math.max.apply(Math,a);var d={computed:-Infinity};o(a,function(a,e,f){e=b?b.call(c,a,e,f):a;e>=d.computed&&(d={value:a,computed:e})});return d.value};g.min=function(a,
b,c){if(!b&&g.isArray(a))return Math.min.apply(Math,a);var d={computed:Infinity};o(a,function(a,e,f){e=b?b.call(c,a,e,f):a;e<d.computed&&(d={value:a,computed:e})});return d.value};g.sortBy=function(a,b,c){return g.pluck(g.map(a,function(a,d,e){return{value:a,criteria:b.call(c,a,d,e)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;return c<d?-1:c>d?1:0}),"value")};g.sortedIndex=function(a,b,c){c||(c=g.identity);for(var d=0,e=a.length;d<e;){var f=d+e>>1;c(a[f])<c(b)?d=f+1:e=f}return d};g.toArray=
function(a){if(!a)return[];if(a.toArray)return a.toArray();if(g.isArray(a))return a;if(g.isArguments(a))return f.call(a);return g.values(a)};g.size=function(a){return g.toArray(a).length};g.first=g.head=function(a,b,c){return b!=null&&!c?f.call(a,0,b):a[0]};g.rest=g.tail=function(a,b,c){return f.call(a,b==null||c?1:b)};g.last=function(a){return a[a.length-1]};g.compact=function(a){return g.filter(a,function(a){return!!a})};g.flatten=function(a){return g.reduce(a,function(a,b){if(g.isArray(b))return a.concat(g.flatten(b));
a[a.length]=b;return a},[])};g.without=function(a){var b=f.call(arguments,1);return g.filter(a,function(a){return!g.include(b,a)})};g.uniq=g.unique=function(a,b){return g.reduce(a,function(a,c,d){if(0==d||(b===!0?g.last(a)!=c:!g.include(a,c)))a[a.length]=c;return a},[])};g.intersect=function(a){var b=f.call(arguments,1);return g.filter(g.uniq(a),function(a){return g.every(b,function(b){return g.indexOf(b,a)>=0})})};g.zip=function(){for(var a=f.call(arguments),b=g.max(g.pluck(a,"length")),c=Array(b),
d=0;d<b;d++)c[d]=g.pluck(a,""+d);return c};g.indexOf=function(a,b,c){if(a==null)return-1;var d;if(c)return c=g.sortedIndex(a,b),a[c]===b?c:-1;if(q&&a.indexOf===q)return a.indexOf(b);c=0;for(d=a.length;c<d;c++)if(a[c]===b)return c;return-1};g.lastIndexOf=function(a,b){if(a==null)return-1;if(n&&a.lastIndexOf===n)return a.lastIndexOf(b);for(var c=a.length;c--;)if(a[c]===b)return c;return-1};g.range=function(a,b,c){arguments.length<=1&&(b=a||0,a=0);for(var c=arguments[2]||1,d=Math.max(Math.ceil((b-a)/
c),0),e=0,f=Array(d);e<d;)f[e++]=a,a+=c;return f};g.bind=function(a,b){if(a.bind===r&&r)return r.apply(a,f.call(arguments,1));var c=f.call(arguments,2);return function(){return a.apply(b,c.concat(f.call(arguments)))}};g.bindAll=function(a){var b=f.call(arguments,1);b.length==0&&(b=g.functions(a));o(b,function(b){a[b]=g.bind(a[b],a)});return a};g.memoize=function(a,b){var c={};b||(b=g.identity);return function(){var d=b.apply(this,arguments);return l.call(c,d)?c[d]:c[d]=a.apply(this,arguments)}};g.delay=
function(a,b){var c=f.call(arguments,2);return setTimeout(function(){return a.apply(a,c)},b)};g.defer=function(a){return g.delay.apply(g,[a,1].concat(f.call(arguments,1)))};var B=function(a,b,c){var d;return function(){var e=this,f=arguments,h=function(){d=null;a.apply(e,f)};c&&clearTimeout(d);if(c||!d)d=setTimeout(h,b)}};g.throttle=function(a,b){return B(a,b,!1)};g.debounce=function(a,b){return B(a,b,!0)};g.once=function(a){var b=!1,c;return function(){if(b)return c;b=!0;return c=a.apply(this,arguments)}};
g.wrap=function(a,b){return function(){var c=[a].concat(f.call(arguments));return b.apply(this,c)}};g.compose=function(){var a=f.call(arguments);return function(){for(var b=f.call(arguments),c=a.length-1;c>=0;c--)b=[a[c].apply(this,b)];return b[0]}};g.after=function(a,b){return function(){if(--a<1)return b.apply(this,arguments)}};g.keys=u||function(a){if(a!==Object(a))throw new TypeError("Invalid object");var b=[],c;for(c in a)l.call(a,c)&&(b[b.length]=c);return b};g.values=function(a){return g.map(a,
g.identity)};g.functions=g.methods=function(a){return g.filter(g.keys(a),function(b){return g.isFunction(a[b])}).sort()};g.extend=function(a){o(f.call(arguments,1),function(b){for(var c in b)b[c]!==void 0&&(a[c]=b[c])});return a};g.defaults=function(a){o(f.call(arguments,1),function(b){for(var c in b)a[c]==null&&(a[c]=b[c])});return a};g.clone=function(a){return g.isArray(a)?a.slice():g.extend({},a)};g.tap=function(a,b){b(a);return a};g.isEqual=function(a,b){if(a===b)return!0;var c=typeof a;if(c!=
typeof b)return!1;if(a==b)return!0;if(!a&&b||a&&!b)return!1;if(a._chain)a=a._wrapped;if(b._chain)b=b._wrapped;if(a.isEqual)return a.isEqual(b);if(g.isDate(a)&&g.isDate(b))return a.getTime()===b.getTime();if(g.isNaN(a)&&g.isNaN(b))return!1;if(g.isRegExp(a)&&g.isRegExp(b))return a.source===b.source&&a.global===b.global&&a.ignoreCase===b.ignoreCase&&a.multiline===b.multiline;if(c!=="object")return!1;if(a.length&&a.length!==b.length)return!1;var c=g.keys(a),d=g.keys(b);if(c.length!=d.length)return!1;
for(var e in a)if(!(e in b)||!g.isEqual(a[e],b[e]))return!1;return!0};g.isEmpty=function(a){if(g.isArray(a)||g.isString(a))return a.length===0;for(var b in a)if(l.call(a,b))return!1;return!0};g.isElement=function(a){return!!(a&&a.nodeType==1)};g.isArray=e||function(a){return j.call(a)==="[object Array]"};g.isArguments=function(a){return!(!a||!l.call(a,"callee"))};g.isFunction=function(a){return!(!a||!a.constructor||!a.call||!a.apply)};g.isString=function(a){return!!(a===""||a&&a.charCodeAt&&a.substr)};
g.isNumber=function(a){return!!(a===0||a&&a.toExponential&&a.toFixed)};g.isNaN=function(a){return a!==a};g.isBoolean=function(a){return a===!0||a===!1};g.isDate=function(a){return!(!a||!a.getTimezoneOffset||!a.setUTCFullYear)};g.isRegExp=function(a){return!(!a||!a.test||!a.exec||!(a.ignoreCase||a.ignoreCase===!1))};g.isNull=function(a){return a===null};g.isUndefined=function(a){return a===void 0};g.noConflict=function(){a._=b;return this};g.identity=function(a){return a};g.times=function(a,b,c){for(var d=
0;d<a;d++)b.call(c,d)};g.mixin=function(a){o(g.functions(a),function(b){C(b,g[b]=a[b])})};var D=0;g.uniqueId=function(a){var b=D++;return a?a+b:b};g.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g};g.template=function(a,b){var c=g.templateSettings,c="var __p=[],print=function(){__p.push.apply(__p,arguments);};with(obj||{}){__p.push('"+a.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(c.interpolate,function(a,b){return"',"+b.replace(/\\'/g,"'")+",'"}).replace(c.evaluate||
null,function(a,b){return"');"+b.replace(/\\'/g,"'").replace(/[\r\n\t]/g," ")+"__p.push('"}).replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t")+"');}return __p.join('');",c=new Function("obj",c);return b?c(b):c};var t=function(a){this._wrapped=a};g.prototype=t.prototype;var y=function(a,b){return b?g(a).chain():a},C=function(a,b){t.prototype[a]=function(){var a=f.call(arguments);h.call(a,this._wrapped);return y(b.apply(g,a),this._chain)}};g.mixin(g);o(["pop","push","reverse","shift","sort",
"splice","unshift"],function(a){var b=c[a];t.prototype[a]=function(){b.apply(this._wrapped,arguments);return y(this._wrapped,this._chain)}});o(["concat","join","slice"],function(a){var b=c[a];t.prototype[a]=function(){return y(b.apply(this._wrapped,arguments),this._chain)}});t.prototype.chain=function(){this._chain=!0;return this};t.prototype.value=function(){return this._wrapped}})();(function(a){function b(b){var e;if(b&&b.constructor==Array&&b.length==3)return b;if(e=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(b))return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3])];if(e=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(b))return[parseFloat(e[1])*2.55,parseFloat(e[2])*2.55,parseFloat(e[3])*2.55];if(e=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(b))return[parseInt(e[1],16),parseInt(e[2],
16),parseInt(e[3],16)];if(e=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(b))return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)];return d[a.trim(b).toLowerCase()]}a.each(["backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","color","outlineColor"],function(c,d){a.fx.step[d]=function(c){if(c.state==0){var h;h=c.elem;var j=d,l;do{l=a.curCSS(h,j);if(l!=""&&l!="transparent"||a.nodeName(h,"body"))break;j="backgroundColor"}while(h=h.parentNode);
h=b(l);c.start=h;c.end=b(c.end)}c.elem.style[d]="rgb("+[Math.max(Math.min(parseInt(c.pos*(c.end[0]-c.start[0])+c.start[0]),255),0),Math.max(Math.min(parseInt(c.pos*(c.end[1]-c.start[1])+c.start[1]),255),0),Math.max(Math.min(parseInt(c.pos*(c.end[2]-c.start[2])+c.start[2]),255),0)].join(",")+")"}});var d={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,
100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,
128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}})(jQuery);jQuery.easing.jswing=jQuery.easing.swing;
jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(a,b,d,c,e){return jQuery.easing[jQuery.easing.def](a,b,d,c,e)},easeInQuad:function(a,b,d,c,e){return c*(b/=e)*b+d},easeOutQuad:function(a,b,d,c,e){return-c*(b/=e)*(b-2)+d},easeInOutQuad:function(a,b,d,c,e){if((b/=e/2)<1)return c/2*b*b+d;return-c/2*(--b*(b-2)-1)+d},easeInCubic:function(a,b,d,c,e){return c*(b/=e)*b*b+d},easeOutCubic:function(a,b,d,c,e){return c*((b=b/e-1)*b*b+1)+d},easeInOutCubic:function(a,b,d,c,e){if((b/=e/2)<1)return c/
2*b*b*b+d;return c/2*((b-=2)*b*b+2)+d},easeInQuart:function(a,b,d,c,e){return c*(b/=e)*b*b*b+d},easeOutQuart:function(a,b,d,c,e){return-c*((b=b/e-1)*b*b*b-1)+d},easeInOutQuart:function(a,b,d,c,e){if((b/=e/2)<1)return c/2*b*b*b*b+d;return-c/2*((b-=2)*b*b*b-2)+d},easeInQuint:function(a,b,d,c,e){return c*(b/=e)*b*b*b*b+d},easeOutQuint:function(a,b,d,c,e){return c*((b=b/e-1)*b*b*b*b+1)+d},easeInOutQuint:function(a,b,d,c,e){if((b/=e/2)<1)return c/2*b*b*b*b*b+d;return c/2*((b-=2)*b*b*b*b+2)+d},easeInSine:function(a,
b,d,c,e){return-c*Math.cos(b/e*(Math.PI/2))+c+d},easeOutSine:function(a,b,d,c,e){return c*Math.sin(b/e*(Math.PI/2))+d},easeInOutSine:function(a,b,d,c,e){return-c/2*(Math.cos(Math.PI*b/e)-1)+d},easeInExpo:function(a,b,d,c,e){return b==0?d:c*Math.pow(2,10*(b/e-1))+d},easeOutExpo:function(a,b,d,c,e){return b==e?d+c:c*(-Math.pow(2,-10*b/e)+1)+d},easeInOutExpo:function(a,b,d,c,e){if(b==0)return d;if(b==e)return d+c;if((b/=e/2)<1)return c/2*Math.pow(2,10*(b-1))+d;return c/2*(-Math.pow(2,-10*--b)+2)+d},
easeInCirc:function(a,b,d,c,e){return-c*(Math.sqrt(1-(b/=e)*b)-1)+d},easeOutCirc:function(a,b,d,c,e){return c*Math.sqrt(1-(b=b/e-1)*b)+d},easeInOutCirc:function(a,b,d,c,e){if((b/=e/2)<1)return-c/2*(Math.sqrt(1-b*b)-1)+d;return c/2*(Math.sqrt(1-(b-=2)*b)+1)+d},easeInElastic:function(a,b,d,c,e){var a=1.70158,f=0,h=c;if(b==0)return d;if((b/=e)==1)return d+c;f||(f=e*0.3);h<Math.abs(c)?(h=c,a=f/4):a=f/(2*Math.PI)*Math.asin(c/h);return-(h*Math.pow(2,10*(b-=1))*Math.sin((b*e-a)*2*Math.PI/f))+d},easeOutElastic:function(a,
b,d,c,e){var a=1.70158,f=0,h=c;if(b==0)return d;if((b/=e)==1)return d+c;f||(f=e*0.3);h<Math.abs(c)?(h=c,a=f/4):a=f/(2*Math.PI)*Math.asin(c/h);return h*Math.pow(2,-10*b)*Math.sin((b*e-a)*2*Math.PI/f)+c+d},easeInOutElastic:function(a,b,d,c,e){var a=1.70158,f=0,h=c;if(b==0)return d;if((b/=e/2)==2)return d+c;f||(f=e*0.3*1.5);h<Math.abs(c)?(h=c,a=f/4):a=f/(2*Math.PI)*Math.asin(c/h);if(b<1)return-0.5*h*Math.pow(2,10*(b-=1))*Math.sin((b*e-a)*2*Math.PI/f)+d;return h*Math.pow(2,-10*(b-=1))*Math.sin((b*e-a)*
2*Math.PI/f)*0.5+c+d},easeInBack:function(a,b,d,c,e,f){f==void 0&&(f=1.70158);return c*(b/=e)*b*((f+1)*b-f)+d},easeOutBack:function(a,b,d,c,e,f){f==void 0&&(f=1.70158);return c*((b=b/e-1)*b*((f+1)*b+f)+1)+d},easeInOutBack:function(a,b,d,c,e,f){f==void 0&&(f=1.70158);if((b/=e/2)<1)return c/2*b*b*(((f*=1.525)+1)*b-f)+d;return c/2*((b-=2)*b*(((f*=1.525)+1)*b+f)+2)+d},easeInBounce:function(a,b,d,c,e){return c-jQuery.easing.easeOutBounce(a,e-b,0,c,e)+d},easeOutBounce:function(a,b,d,c,e){return(b/=e)<1/
2.75?c*7.5625*b*b+d:b<2/2.75?c*(7.5625*(b-=1.5/2.75)*b+0.75)+d:b<2.5/2.75?c*(7.5625*(b-=2.25/2.75)*b+0.9375)+d:c*(7.5625*(b-=2.625/2.75)*b+0.984375)+d},easeInOutBounce:function(a,b,d,c,e){if(b<e/2)return jQuery.easing.easeInBounce(a,b*2,0,c,e)*0.5+d;return jQuery.easing.easeOutBounce(a,b*2-e,0,c,e)*0.5+c*0.5+d}});(function(a){function b(a){return typeof a=="object"?a:{top:a,left:a}}var d=a.scrollTo=function(b,d,f){a(window).scrollTo(b,d,f)};d.defaults={axis:"xy",duration:parseFloat(a.fn.jquery)>=1.3?0:1};d.window=function(){return a(window)._scrollable()};a.fn._scrollable=function(){return this.map(function(){if(this.nodeName&&a.inArray(this.nodeName.toLowerCase(),["iframe","#document","html","body"])==-1)return this;var b=(this.contentWindow||this).document||this.ownerDocument||this;return a.browser.safari||
b.compatMode=="BackCompat"?b.body:b.documentElement})};a.fn.scrollTo=function(c,e,f){typeof e=="object"&&(f=e,e=0);typeof f=="function"&&(f={onAfter:f});c=="max"&&(c=9E9);f=a.extend({},d.defaults,f);e=e||f.speed||f.duration;f.queue=f.queue&&f.axis.length>1;f.queue&&(e/=2);f.offset=b(f.offset);f.over=b(f.over);return this._scrollable().each(function(){function h(a){l.animate(m,e,f.easing,a&&function(){a.call(this,c,f)})}var j=this,l=a(j),i=c,k,m={},p=l.is("html,body");switch(typeof i){case "number":case "string":if(/^([+-]=)?\d+(\.\d+)?(px|%)?$/.test(i)){i=
b(i);break}i=a(i,this);case "object":if(i.is||i.style)k=(i=a(i)).offset()}a.each(f.axis.split(""),function(a,b){var c=b=="x"?"Left":"Top",e=c.toLowerCase(),n="scroll"+c,u=j[n],r=d.max(j,b);k?(m[n]=k[e]+(p?0:u-l.offset()[e]),f.margin&&(m[n]-=parseInt(i.css("margin"+c))||0,m[n]-=parseInt(i.css("border"+c+"Width"))||0),m[n]+=f.offset[e]||0,f.over[e]&&(m[n]+=i[b=="x"?"width":"height"]()*f.over[e])):(c=i[e],m[n]=c.slice&&c.slice(-1)=="%"?parseFloat(c)/100*r:c);/^\d+$/.test(m[n])&&(m[n]=m[n]<=0?0:Math.min(m[n],
r));!a&&f.queue&&(u!=m[n]&&h(f.onAfterFirst),delete m[n])});h(f.onAfter)}).end()};d.max=function(b,d){var f=d=="x"?"Width":"Height",h="scroll"+f;if(!a(b).is("html,body"))return b[h]-a(b)[f.toLowerCase()]();var f="client"+f,j=b.ownerDocument.documentElement,l=b.ownerDocument.body;return Math.max(j[h],l[h])-Math.min(j[f],l[f])}})(jQuery);var MERCATOR_RANGE=256,hash={};function CoordMapType(a){this.tileSize=a;this.json_tile_url="/bubbles/";this.loading_tiles=0}
CoordMapType.prototype.getTile=function(a,b,d){var c=this,e=d.createElement("div");e.setAttribute("class","tile");e.style.zIndex=0;e.style.width=this.tileSize.width+"px";e.style.height=this.tileSize.height+"px";e.setAttribute("id",a.x+"_"+a.y+"_"+b);hash[a.x+"_"+a.y+"_"+b]=[];var f,h;b>9?(b==12?(f=a.x/2,h=a.y/2):(f=a.x,h=a.y),z=11):b>6&&b<=9?(b>7?(h=(b-7)*2,f=a.x/h,h=a.y/h):(f=a.x,h=a.y),z=7):(f=a.x,h=a.y,z=6);f==void 0||f%1==0&&h%1==0?(z==6&&f>27&&f<35&&h>21&&h<27?($("div.canary_island").css({"background-position":"0 0"}),
$("div.canary_island a").removeClass().addClass("islas_canarias").text("Ir a las Islas Canarias"),$("div.canary_island").css("z-index",2)):(z==6||z==7||z==8)&&(f>54&&f<62&&h>50&&h<56||f>113&&f<121&&h>103&&h<109||f>25&&f<33&&h>24&&h<30)?($("div.canary_island").css({"background-position":"0 -160px"}),$("div.canary_island a").removeClass().addClass("peninsula").text("Ir a la Pen\u00ednsula y Baleares"),$("div.canary_island").css("z-index",2)):$("div.canary_island").css("z-index",0),this.loading_tiles++,
showLoader(),$.ajax({method:"GET",dataType:"json",url:global_url+c.json_tile_url+bubbles_version+"/"+z+"_"+f+"_"+h+".json",success:function(f){c.loading_tiles--;c.loading_tiles==0&&hideLoader();var h={x:a.x*256,y:a.y*256,z:b},h=new google.maps.Point(h.x/Math.pow(2,b),h.y/Math.pow(2,b)),h=peninsula.getProjection().fromPointToLatLng(h),h=peninsula.getProjection().fromLatLngToPoint(h),i=Math.pow(2,b),k=new google.maps.Point(h.x*i,h.y*i);delete hash[a.x+"_"+a.y+"_"+b];hash[a.x+"_"+a.y+"_"+b]={};_.each(f,
function(f){c.createBubble(e,f,k,i,a,b,d)});return e},error:function(){c.loading_tiles--;c.loading_tiles==0&&hideLoader();return e}})):e.style.display="none";return e};CoordMapType.prototype.releaseTile=function(a){a=a.getAttribute("id");delete hash[a]};
CoordMapType.prototype.createBubble=function(a,b,d,c,e,f){hash[e.x+"_"+e.y+"_"+f][b.id]=b;e=new google.maps.LatLng(b.center_latitude,b.center_longitude);e=peninsula.getProjection().fromLatLngToPoint(e);e=new google.maps.Point(e.x*c,e.y*c);c=e.x-d.x;d=e.y-d.y;if(b.data[year]!=void 0)if(normalization[compare]!=void 0&&b.data[year][normalization[compare]]!=void 0){getDeepLevelFromZoomLevel(peninsula.getZoom());max_min_avg[normalization[compare]+"_"+year+"_max"]!=void 0?(e=max_min_avg[normalization[compare]+
"_"+year+"_max"],f=max_min_avg[normalization[compare]+"_"+year+"_min"]):(e=max_min_avg[normalization[compare]+"_"+lastAvailableYear()+"_max"],f=max_min_avg[normalization[compare]+"_"+lastAvailableYear()+"_min"]);var e=Math.max(Math.ceil(Math.abs(f)),Math.ceil(Math.abs(e)))/5,f=Math.round(Math.abs(b.data[year][normalization[compare]])),h=peninsula.getZoom(),e=e*0>=f&&f<e*1?12:e*1>=f&&f<e*2?19*(h==12?1.5:1):e*2>=f&&f<e*3?23*(h==12?1.5:1):e*3>=f&&f<e*4?28*(h==12?1.5:1):32*(h==12?1.5:1)}else e=13;else e=
12;b.data[year]==void 0||b.data[year][normalization[compare]]==void 0?(f="",h="red"):(f=b.data[year][normalization[compare]]>0.5?"+"+Math.round(b.data[year][normalization[compare]]):Math.round(b.data[year][normalization[compare]]),h=b.data[year][normalization[compare]]>0?"yellow":"grey");c='<div class="bubble" id="'+b.id+'" style="width:'+e*2+"px; height:"+e*2+"px; left:"+(c-e)+"px; top:"+(d-e)+'px;overflow: visible !important;"><p class="region_name">'+b.name+'</p><img src="images/'+h+'_marker.png"/><p class="stat '+
h+'">'+f+"</p></div>";$(a).append(c);e<14&&$('div.bubble[id="'+b.id+'"]').find("p.stat").css("display","none");c=$('div.bubble[id="'+b.id+'"] p.region_name').height();$('div.bubble[id="'+b.id+'"] p.region_name').css({top:"-"+(c+2)+"px"});return a};
function refreshBubbles(){var a=_.reduceRight(hash,function(a,d){return a.concat(d)},[]),a=_.select(a,function(a){return a!=void 0});_.each(a,function(a){_.each(a,function(a){var b,e;a.data[year]==void 0||a.data[year][normalization[compare]]==void 0?(b="",e="red"):(b=a.data[year][normalization[compare]]>0?"+"+Math.round(a.data[year][normalization[compare]]):Math.round(a.data[year][normalization[compare]]),e=a.data[year][normalization[compare]]>0?"yellow":"grey");$("div#"+a.id+" img").attr("src","images/"+
e+"_marker.png");var f;if(a.data[year]!=void 0)if(normalization[compare]!=void 0&&a.data[year][normalization[compare]]!=void 0){getDeepLevelFromZoomLevel(peninsula.getZoom());if(max_min_avg[normalization[compare]+"_"+year+"_max"]!=void 0){f=max_min_avg[normalization[compare]+"_"+year+"_max"];var h=max_min_avg[normalization[compare]+"_"+year+"_min"]}else f=max_min_avg[normalization[compare]+"_"+lastAvailableYear()+"_max"],h=max_min_avg[normalization[compare]+"_"+lastAvailableYear()+"_min"];f=Math.max(Math.ceil(Math.abs(h)),
Math.ceil(Math.abs(f)))/5;var h=Math.round(Math.abs(a.data[year][normalization[compare]])),j=peninsula.getZoom();f=f*0>=h&&h<f*1?12:f*1>=h&&h<f*2?19*(j==12?1.5:1):f*2>=h&&h<f*3?23*(j==12?1.5:1):f*3>=h&&h<f*4?28*(j==12?1.5:1):32*(j==12?1.5:1)}else f=13;else f=12;$("div#"+a.id+" p.stat").removeClass("yellow red").addClass(e);$("div#"+a.id+" p.stat").text(b);f<14?$("div#"+a.id+" p.stat").hide():$("div#"+a.id+" p.stat").show();$("div#"+a.id).length&&(e=$("div#"+a.id).width()/2,b=e+parseFloat($("div#"+
a.id).css("top").replace("px","")),e+=parseFloat($("div#"+a.id).css("left").replace("px","")),$("div#"+a.id).animate({width:f*2+"px",height:f*2+"px",top:b-f+"px",left:e-f+"px"},{duration:500,queue:!0}))})})}function showLoader(){$("div#map span.loader").fadeIn()}function hideLoader(){$("div#map span.loader").fadeOut()};MERCATOR_RANGE=256;function bound(a,b,d){b!=null&&(a=Math.max(a,b));d!=null&&(a=Math.min(a,d));return a}function degreesToRadians(a){return a*(Math.PI/180)}function radiansToDegrees(a){return a/(Math.PI/180)}function MercatorProjection(){this.pixelOrigin_=new google.maps.Point(MERCATOR_RANGE/2,MERCATOR_RANGE/2);this.pixelsPerLonDegree_=MERCATOR_RANGE/360;this.pixelsPerLonRadian_=MERCATOR_RANGE/(2*Math.PI)}
MercatorProjection.prototype.fromLatLngToPoint=function(a,b){var d=b||new google.maps.Point(0,0),c=this.pixelOrigin_;d.x=c.x+a.lng()*this.pixelsPerLonDegree_;var e=bound(Math.sin(degreesToRadians(a.lat())),-0.9999,0.9999);d.y=c.y+0.5*Math.log((1+e)/(1-e))*-this.pixelsPerLonRadian_;return d};
MercatorProjection.prototype.fromDivPixelToLatLng=function(a,b){var d=this.pixelOrigin_,c=Math.pow(2,b),e=(a.x/c-d.x)/this.pixelsPerLonDegree_,d=radiansToDegrees(2*Math.atan(Math.exp((a.y/c-d.y)/-this.pixelsPerLonRadian_))-Math.PI/2);return new google.maps.LatLng(d,e)};
MercatorProjection.prototype.fromDivPixelToSphericalMercator=function(a,b){var d=this.fromDivPixelToLatLng(a,b),c=6378137*degreesToRadians(d.lng()),d=degreesToRadians(d.lat());return new google.maps.Point(c,3189068.5*Math.log((1+Math.sin(d))/(1-Math.sin(d))))};var geocoder=new google.maps.Geocoder,autocomplete,searchInterval,searchCount;function initializeSearch(){$("div.secondContainer form.search").submit(function(a){a.stopPropagation();a.preventDefault()});addAutocompleteFunctionsToInputs()}
function addAutocompleteFunctionsToInputs(){var a=document.getElementById("headerSearchInput"),b={bounds:new google.maps.LatLngBounds(new google.maps.LatLng(41.0410955451705,-2.420436523437502),new google.maps.LatLng(39.786437168780616,-4.892360351562502))};autocomplete=new google.maps.places.Autocomplete(a,b);google.maps.event.addListener(autocomplete,"place_changed",function(){var a=autocomplete.getPlace();a.geometry.viewport?peninsula.setCenter(a.geometry.viewport.getCenter()):peninsula.setCenter(a.geometry.location);
peninsula.setZoom(11);searchAndShow(a.formatted_address);$("a.map").trigger("click")})}
function searchAndShow(a){$.ajax({method:"GET",dataType:"json",url:global_url+"/google_names_cache/"+gmaps_version+"/"+replaceWeirdCharacters(a)+".json",success:function(a){a!=null&&(searchInterval!=null&&clearInterval(searchInterval),searchCount=0,searchInterval=setInterval(function(){$("div#"+a.id).length==0?(searchCount++,searchCount>5&&clearInterval(searchInterval)):($("div#"+a.id).trigger("click"),clearInterval(searchInterval))},500))},error:function(){}})};function InfoWindow(a,b){this.latlng_=a;this.information={};this.spain_id=0;this.map_=b;this.offsetVertical_=-276;this.offsetHorizontal_=-127;this.bar_width_multiplier=140;this.height_=289;this.width_=254;this.setMap(b);this.oldPar3=this.oldPar2=this.oldPar1=""}InfoWindow.prototype=new google.maps.OverlayView;
InfoWindow.prototype.draw=function(){var a=this,b=this.div_;if(!b)b=this.div_=document.createElement("div"),b.setAttribute("id","infowindow"),b.setAttribute("class","infowindow"),b.innerHTML='<a class="close_infowindow"></a><div class="top"><h2>Alaejos</h2><p class="province">Valladolid, 11.982 habitantes.</p><div class="stats"><h4>65% de participaci\u00f3n</h4><div class="partido psoe"><div class="bar"><span class="l"></span><span class="c"></span><span class="r"></span></div><p>PSOE (61%)</p></div><div class="partido pp"><div class="bar"><span class="l"></span><span class="c"></span><span class="r"></span></div><p>PP (36%)</p></div><div class="partido iu"><div class="bar"><span class="l"></span><span class="c"></span><span class="r"></span></div><p>IU (12%)</p></div><div class="partido otros"><p><a href="http://resultados-elecciones.rtve.es/municipales/" target="_blank">OTROS DATOS  (61%)</a></p></div></div><div class="summary"><h4>Municipios en los que es el m\u00e1s votado...</h4><ul><li class="partido psoe bar"><strong>00</strong><span>PSOE</span></li><li class="partido pp bar"><strong>00</strong><span>PP</span></li><li class="partido iu bar"><strong>00</strong><span>IU</span></li><li class="partido otros"><strong>00</strong><span>OTROS</span></li></ul></div></div><div class="bottom">  <div class="tooltip"><span></span><div class="tip"></div></div><p class="info">La region tiene <strong></strong> de la media en Espa\u00f1a.</p><div class="chart"><img title="" alt="Chart de regi\u00f3n" /></div><a href="#ver_provincias" class="goTo">Ver provincias</a><a class="compare">Comparar</a></div><div class="footer"></div>',
this.getPanes().floatPane.appendChild(b),$("div#infowindow a.close_infowindow").click(function(b){try{b.stopPropagation()}catch(d){event.cancelBubble=!0}a.hide()}),$("div#infowindow a.compare").click(function(b){try{b.stopPropagation()}catch(d){event.cancelBubble=!0}a.openCompare()}),$("div#infowindow").delegate(".why_no_data","click",function(b){b.preventDefault();try{b.stopPropagation()}catch(d){event.cancelBubble=!0}a.hide();explanationwindow.show()}),$("div#infowindow").delegate(".goTo","click",
function(b){b.preventDefault();try{b.stopPropagation()}catch(d){event.cancelBubble=!0}peninsula.panTo(a.latlng_);setTimeout(function(){var a=peninsula.getZoom();a==6?peninsula.setZoom(7):(a==7||a==8)&&peninsula.setZoom(11)},500)}),google.maps.event.addDomListener(b,"mousedown",function(a){try{a.stopPropagation()}catch(b){event.cancelBubble=!0}}),google.maps.event.addDomListener(b,"click",function(a){try{a.stopPropagation()}catch(b){event.cancelBubble=!0}}),google.maps.event.addDomListener(b,"dbclick",
function(a){try{a.stopPropagation()}catch(b){event.cancelBubble=!0}});var d=a.getProjection().fromLatLngToDivPixel(a.latlng_);if(d)b.style.width=a.width_+"px",b.style.left=d.x+a.offsetHorizontal_+"px",b.style.height=a.height_+"px",b.style.top=d.y+a.offsetVertical_-($(b).css("opacity")==1?10:0)+"px"};InfoWindow.prototype.remove=function(){if(this.div_)this.div_.parentNode.removeChild(this.div_),this.div_=null};
InfoWindow.prototype.drawTotalNumber=function(a,b,d){var c=this,e=a-1,f=["primer","segundo","tercer","otros"],h=b.data[year][f[e]+"_partido_total"],j="otros",l="otros",i=$("div#infowindow div.summary li.partido:eq("+e+")");a<4&&(j=b.data[year][f[e]+"_partido_name"],b=normalizePartyName(b.data[year][f[e]+"_partido_name"]),l=_.indexOf(parties,b)!==-1?b:"par"+a,i.addClass(l));d==!0?(a=i.find("strong").text(),d=i.find("span").text(),(a!=h||j!=null&&d!=j)&&i.find("> *").fadeOut("slow",function(){c.renderTotalNumber(i,
e,h,j);i.find("> *").fadeIn("slow")})):this.renderTotalNumber(i,e,h,j)};InfoWindow.prototype.renderTotalNumber=function(a,b,d,c){c!=null?(a.show(),a.find("strong").text(d),a.find("span").text(c.toUpperCase())):a.hide()};
InfoWindow.prototype.drawPartyBar=function(a,b){var d=a-1,c=["primer","segundo","tercer"],e,f="otros";a<4?b.data[year][c[d]+"_partido_name"]!=void 0?(f=b.data[year][c[d]+"_partido_name"],f.length>13&&(f=f.substr(0,10)+"..."),e=normalizePartyName(b.data[year][c[d]+"_partido_name"]),_.indexOf(parties,e)!==-1?$("div#infowindow div.stats div.partido:eq("+d+")").addClass(e):$("div#infowindow div.stats div.partido:eq("+d+")").addClass("par"+a),e=normalizeBarWidth(b.data[year][c[d]+"_partido_percent"]*this.bar_width_multiplier/
100),$("div#infowindow div.stats div.partido:eq("+d+") span.c").width(e<2?2:e),$("div#infowindow div.stats div.partido:eq("+d+") p").text(f+" ("+b.data[year][c[d]+"_partido_percent"]+"%)"),$("div#infowindow div.stats div.partido:eq("+d+")").show()):$("div#infowindow div.stats div.partido:eq("+d+")").hide():year>2006?(b.lavinia_url!=void 0?(c=b.lavinia_url.split("|"),$("div#infowindow div.stats div.partido:eq("+d+") p a").attr("href","http://resultados-elecciones.rtve.es/municipales/"+c[0]+"/provincias/"+
c[1]+"/municipios/"+c[2]+"/")):$("div#infowindow div.stats div.partido:eq("+d+") p a").attr("href","http://resultados-elecciones.rtve.es/"),$("div#infowindow div.stats div.partido:eq("+d+") p a").text("OTROS DATOS"),$("div#infowindow div.stats div.partido:eq("+d+")").show()):$("div#infowindow div.stats div.partido:eq("+d+")").hide()};
InfoWindow.prototype.setPosition=function(a,b,d){var c=this.div_;this.latlng_=a;this.information=d;this.actualZoom=peninsula.getZoom();this.deep_level=getDeepLevelFromZoomLevel(this.actualZoom);$("div#infowindow div.chart img").hide();$("div#infowindow h2").html(d.name);$("div#infowindow p.province").text((d.provincia!=void 0?d.provincia+", ":"")+(d.data[year].censo_total!=void 0?d.data[year].censo_total+" habitantes":""));if(d.data[year].primer_partido_name!=void 0)if(this.deep_level=="municipios"&&
$("div#infowindow div.stats h4").text(parseFloat(d.data[year].percen_participacion).toFixed(0)+"% de participaci\u00f3n, "+graph_hack_year[year]),$("div#infowindow div.stats div.partido").each(function(a,b){$(b).removeClass(parties.join(" ")+" par1 par2 par3")}),$("div#infowindow div.summary li.partido").each(function(a,b){$(b).removeClass(parties.join(" ")+" par1 par2 par3")}),this.deep_level=="municipios"){for(a=1;a<=4;a++)this.drawPartyBar(a,d);$("div#infowindow div.stats").show();$("div#infowindow div.summary").hide()}else{for(a=
1;a<=4;a++)this.drawTotalNumber(a,d);$("div#infowindow div.summary").show();$("div#infowindow div.stats").hide()}else $("div#infowindow div.stats").hide();if(d.data[year][normalization[compare]]!=null){$("div#infowindow div.chart").show();a=this.generateStatImage();$("div#infowindow div.chart img").attr("src",a.url);$("div#infowindow div.chart img").css({margin:"0 "+a.new_no_data*7+"px 0 0"});$("div#infowindow div.chart img").show();var d=parseFloat(d.data[year][normalization[compare]]).toFixed(2),
a=textInfoWindow[normalization[compare]],e=d<0?"negative":"positive",d=a["before_"+e]+" <strong>"+Math.abs(d)+"</strong>"+a["after_"+e],a=compare=="lineas adsl"||compare=="consumo prensa"||compare=="consumo tv"?max_min_avg[normalization[compare]+"_"+year+"_avg"]!=void 0?parseFloat(max_min_avg[normalization[compare]+"_"+year+"_avg"]).toFixed(2):parseFloat(max_min_avg[normalization[compare]+"_"+lastAvailableYear()+"_avg"]).toFixed(2):max_min_avg[normalization[compare].replace("_normalizado","")+"_"+
year+"_avg"]!=void 0?parseFloat(max_min_avg[normalization[compare].replace("_normalizado","")+"_"+year+"_avg"]).toFixed(2):parseFloat(max_min_avg[normalization[compare].replace("_normalizado","")+"_"+lastAvailableYear()+"_avg"]).toFixed(2),e=lastAvailableYear(),d=_.template(d)({media:a,yearSim:e<year?e:year});d+="<sup class='help'>1</sup>";$("div#infowindow div.chart").show();$("div#infowindow p.info").html(d);$("div#infowindow p.info").html(d);$("div#infowindow p.info sup.help").unbind("mouseenter").unbind("mouseleave");
$("div#infowindow p.info sup.help").mouseenter(function(){var a=$("div#infowindow p.info sup.help").position().top,b=$("div#infowindow p.info sup.help").position().left,c=getDeepLevelFromZoomLevel(peninsula.getZoom());$("div#infowindow div.tooltip").css("top",a-60);$("div#infowindow div.tooltip").css("left",b-70);$("div#infowindow div.tooltip span").text("Desviaci\u00f3n respecto a la media de "+{autonomias:"las autonom\u00edas",provincias:"las provincias",municipios:"los municipios"}[c]);$("div#infowindow div.tooltip").show()});
$("div#infowindow p.info sup.help").mouseleave(function(){$("div#infowindow div.tooltip").hide()})}else d="",compare!="ninguna"?(d="No hay datos sobre "+compare+" en ",a=getDeepLevelFromZoomLevel(peninsula.getZoom()),d+=a=="autonomias"?"esta autonom\u00eda":a=="provincias"?"esta provincia":"este municipio",d+='. <a class="why_no_data" href="#porque">\u00bfPor qu\u00e9?</a>'):d="Selecciona una variable en la zona superior para compararla con los datos electorales",$("div#infowindow p.info").html(d),
$("div#infowindow div.chart").hide();this.deep_level=="municipios"?$("div.infowindow a.goTo").hide():this.deep_level=="provincias"?($("div.infowindow a.goTo").text("Ver municipios"),$("div.infowindow a.goTo").attr("href","#ver_municipios"),$("div.infowindow a.goTo").show()):($("div.infowindow a.goTo").text("Ver provincias"),$("div.infowindow a.goTo").attr("href","#ver_provincias"),$("div.infowindow a.goTo").show("Ver provincias"));d=this.getProjection().fromLatLngToDivPixel(this.latlng_);this.offsetVertical_=
-$("div#infowindow div.bottom").height()-$("div#infowindow div.footer").height()-$("div#infowindow div.top").height()-10;if(d)c.style.left=d.x+this.offsetHorizontal_+"px",c.style.top=d.y+this.offsetVertical_-b+"px";this.moveMaptoOpen();this.show()};InfoWindow.prototype.hide=function(){if(this.div_){var a=this.div_;ie_?$(a).css({visibility:"hidden"}):$(a).stop().animate({top:"+=10px",opacity:0},100,"swing",function(){a.style.visibility="hidden"})}};
InfoWindow.prototype.show=function(){if(this.div_){var a=this.div_;ie_?$(a).css({visibility:"visible"}):($(a).css({opacity:0}),a.style.visibility="visible",$(a).stop().animate({top:"-=10px",opacity:1},250,"swing"))}};InfoWindow.prototype.isOpen=function(){return this.div_.style.visibility=="visible"};
InfoWindow.prototype.updateValues=function(){if(this.div_){if(this.deep_level!="municipios")$("div#infowindow div.summary li.partido").each(function(a,b){$(b).removeClass(parties.join(" ")+" par1 par2 par3")}),this.drawTotalNumber(1,this.information,!0),this.drawTotalNumber(2,this.information,!0),this.drawTotalNumber(3,this.information,!0),this.drawTotalNumber(4,this.information,!0);else if($("div#infowindow p.province").text((this.information.provincia!=void 0?this.information.provincia+", ":"")+
(this.information.data[year].censo_total!=void 0?this.information.data[year].censo_total+" habitantes":"")),this.information.data[year].primer_partido_name!=void 0){$("div#infowindow div.stats h4").text(parseFloat(this.information.data[year].percen_participacion).toFixed(0)+"% de participaci\u00f3n, "+graph_hack_year[year]);if(this.information.data[year].primer_partido_name!=void 0){var a=normalizePartyName(this.information.data[year].primer_partido_name);$("div#infowindow div.stats div.partido:eq(0)").removeClass(parties.join(" ")+
" par1 par2 par3");_.indexOf(parties,a)!==-1?$("div#infowindow div.stats div.partido:eq(0)").addClass(a):this.oldPar1!=a&&$("div#infowindow div.stats div.partido:eq(0)").addClass("par1");bar_width=normalizeBarWidth(this.information.data[year].primer_partido_percent*this.bar_width_multiplier/100);$("div#infowindow div.stats div.partido:eq(0) span.c").animate({width:bar_width.toString()+"px"},500,"easeOutCubic");$("div#infowindow div.stats div.partido:eq(0) p").text(this.information.data[year].primer_partido_name+
" ("+this.information.data[year].primer_partido_percent+"%)");$("div#infowindow div.stats div.partido:eq(0)").show()}else $("div#infowindow div.stats div.partido:eq(0)").hide();this.information.data[year].segundo_partido_name!=void 0?(a=normalizePartyName(this.information.data[year].segundo_partido_name),$("div#infowindow div.stats div.partido:eq(1)").removeClass(parties.join(" ")+" par1 par2 par3"),_.indexOf(parties,a)!==-1?$("div#infowindow div.stats div.partido:eq(1)").addClass(a):this.oldPar2!=
a&&$("div#infowindow div.stats div.partido:eq(1)").addClass("par2"),bar_width=normalizeBarWidth(this.information.data[year].segundo_partido_percent*this.bar_width_multiplier/100),$("div#infowindow div.stats div.partido:eq(1) span.c").animate({width:bar_width.toString()+"px"},500,"easeOutCubic"),$("div#infowindow div.stats div.partido:eq(1) p").text(this.information.data[year].segundo_partido_name+" ("+this.information.data[year].segundo_partido_percent+"%)"),$("div#infowindow div.stats div.partido:eq(1)").show()):
$("div#infowindow div.stats div.partido:eq(1)").hide();this.information.data[year].tercer_partido_name!=void 0?(a=normalizePartyName(this.information.data[year].tercer_partido_name),$("div#infowindow div.stats div.partido:eq(2)").removeClass(parties.join(" ")+" par1 par2 par3"),_.indexOf(parties,a)!==-1?$("div#infowindow div.stats div.partido:eq(2)").addClass(a):this.oldPar3!=a&&$("div#infowindow div.stats div.partido:eq(2)").addClass("par3"),bar_width=normalizeBarWidth(this.information.data[year].tercer_partido_percent*
this.bar_width_multiplier/100),$("div#infowindow div.stats div.partido:eq(2) span.c").animate({width:bar_width.toString()+"px"},500,"easeOutCubic"),$("div#infowindow div.stats div.partido:eq(2) p").text(this.information.data[year].tercer_partido_name+" ("+this.information.data[year].tercer_partido_percent+"%)"),$("div#infowindow div.stats div.partido:eq(2)").show()):$("div#infowindow div.stats div.partido:eq(2)").hide();year>2006?(this.information.lavinia_url!=void 0?(a=this.information.lavinia_url.split("|"),
$("div#infowindow div.stats div.partido:eq(3) p a").attr("href","http://resultados-elecciones.rtve.es/municipales/"+a[0]+"/provincias/"+a[1]+"/municipios/"+a[2]+"/")):$("div#infowindow div.stats div.partido:eq(3) p a").attr("href","http://resultados-elecciones.rtve.es/"),$("div#infowindow div.stats div.partido:eq(3) p a").text("OTROS DATOS"),$("div#infowindow div.stats div.partido:eq(3)").show()):$("div#infowindow div.stats div.partido:eq(3)").hide();$("div#infowindow div.stats").show()}else $("div#infowindow div.stats").hide();
if(this.information.data[year][normalization[compare]]!=null){var b=parseFloat(this.information.data[year][normalization[compare]]).toFixed(2),a=textInfoWindow[normalization[compare]],d=b<0?"negative":"positive",b=a["before_"+d]+" <strong>"+Math.abs(b)+"</strong>"+a["after_"+d],a=compare=="lineas adsl"||compare=="consumo prensa"||compare=="consumo tv"?max_min_avg[normalization[compare]+"_"+year+"_avg"]!=void 0?parseFloat(max_min_avg[normalization[compare]+"_"+year+"_avg"]).toFixed(2):parseFloat(max_min_avg[normalization[compare]+
"_"+lastAvailableYear()+"_avg"]).toFixed(2):max_min_avg[normalization[compare].replace("_normalizado","")+"_"+year+"_avg"]!=void 0?parseFloat(max_min_avg[normalization[compare].replace("_normalizado","")+"_"+year+"_avg"]).toFixed(2):parseFloat(max_min_avg[normalization[compare].replace("_normalizado","")+"_"+lastAvailableYear()+"_avg"]).toFixed(2),d=lastAvailableYear(),b=_.template(b)({media:a,yearSim:d<year?d:year}),a=this.generateStatImage();$("div#infowindow img").attr("src",a.url);$("div#infowindow div.chart").show()}else a=
"",compare!="ninguna"?(a="No hay datos sobre "+compare+" en ",d=getDeepLevelFromZoomLevel(peninsula.getZoom()),a+=d=="autonomias"?"esta autonom\u00eda":d=="provincias"?"esta provincia":"este municipio",a+='. <a class="why_no_data" href="#porque">\u00bfPor qu\u00e9?</a>'):a="Selecciona una variable en la zona superior para compararla con los datos electorales",$("div#infowindow p.info").html(a),$("div#infowindow div.chart").hide();$("div#infowindow p.info").html(b);b=this.div_;a=this.getProjection().fromLatLngToDivPixel(this.latlng_);
this.offsetVertical_=-$("div#infowindow div.bottom").height()-$("div#infowindow div.footer").height()-$("div#infowindow div.top").height()-10;if(a)b.style.left=a.x+this.offsetHorizontal_+"px",b.style.top=a.y+this.offsetVertical_-15+"px"}};InfoWindow.prototype.openCompare=function(){this.hide();comparewindow.isVisible()?comparewindow.compareSecondRegion(this.information,this.information.name):comparewindow.compareFirstRegion(this.information,this.actualZoom)};
InfoWindow.prototype.moveMaptoOpen=function(){var a=0,b=0,d=this.getProjection().fromLatLngToContainerPixel(this.latlng_);d.x+this.offsetHorizontal_<0&&(a=d.x+this.offsetHorizontal_-20);d.x-this.offsetHorizontal_>=$("div#peninsula").width()&&(a=d.x-this.offsetHorizontal_-$("div#peninsula").width()+20);d.y+this.offsetVertical_-40<0&&(b=d.y+this.offsetVertical_-40);this.map_.panBy(a,b)};
InfoWindow.prototype.generateStatImage=function(){for(var a=this.information,b=0,d=0,c=!1,e,f=0,h=!1,j="",l=minGraphYear=1987;l<2012;l++)a.data[l]!=void 0&&a.data[l][normalization[compare]]!=void 0?(!c&&year==l&&(c=!0,e=d),h||(h=!0),Math.abs(parseFloat(a.data[l][normalization[compare]]))>b&&(b=Math.ceil(Math.abs(parseFloat(a.data[l][normalization[compare]])))),j+=a.data[l][normalization[compare]]+",",d++):h&&f++;j=j.substring(0,j.length-1);return{url:"http://chart.apis.google.com/chart?chf=bg,s,FFFFFF00&chs="+
(d*8+10)+"x22&cht=ls&chco=8B1F72&chds=-"+b+","+b+"&chd=t:"+j+"&chdlp=b&chls=1&chm=o,8B1F72,0,"+e+",5&chma=5,0,5,0",new_no_data:f}};function AboutWindow(){this.create()}AboutWindow.prototype={};
AboutWindow.prototype.create=function(){var a=this;this.div=document.createElement("div");this.div.setAttribute("id","aboutwindow");this.div.innerHTML='<a class="close_info"></a><div class="content"><div class="upper_content"><span class="arrow"></span><h3>Acerca del Microscopio del Voto</h3><p>El Microscopio del Voto es la primera de una serie de iniciativas de <a href="http://rtve.es" alt="ir a rtve.es">RTVE.es</a> apostando por la visualizaci\u00f3n de datos y por los datos abiertos.</p><div class="blocks"><h4>UN PROYECTO DE</h4><a href="http://www.rtve.es" class="image_container" ><img src="images/logo_rtve.jpg" id="rtvelogo" alt="RTVE" title=""/></a></div><div class="blocks"><h4>DESARROLLADO POR</h4><a href="http://www.vizzuality.com" class="image_container"><img src="images/logo_vizz.jpg" id="vizzlogo" alt="Vizzuality" title=""/></a></div><div class="blocks last"><h4>AGRADECIMIENTOS</h4><p><a href="http://twitter.com/algonpaje" target="_blank">Alberto Gonz\u00e1lez Paje</a>, <a href="http://twitter.com/oscarfonts" target="_blank">Oscar Fonts</a>, <a href="http://twitter.com/ruthdelcampo" target="_blank">Ruth del Campo</a>, <a href="http://twitter.com/Eskimo__Girl" target="_blank">Tania Dur\u00e1n</a>, <a href="http://twitter.com/phornera" target="_blank">Marina Fornes</a> y <a class="disabled">Cristina Samar\u00e1n</a>.</p></div></div><div class="lower_content"><div class="left"><h3>Datos abiertos y c\u00f3digo libre</h3><p>Puedes bajarte el proyecto en GitHub</p></div><div class="right"><a target="_blank" href="https://github.com/Vizzuality/elections" alt="Elections at GitHub"></a></div></div></div>';$("div.tabs").append(this.div);
$(this.div).children("a.close_info").click(function(b){b.stopPropagation();b.preventDefault();a.hide()});$(this.div).draggable({containment:"parent"})};AboutWindow.prototype.show=function(){explanationwindow.hide();$(this.div).css({margin:"-177px 0 0 -267px",top:"50%",left:"50%"});$(this.div).fadeIn()};AboutWindow.prototype.hide=function(){$(this.div).fadeOut()};function toTitleCase(a){return a.replace(/\w\S*/g,function(a){return a.charAt(0).toUpperCase()+a.substr(1).toLowerCase()})}function normalizePartyName(a){if(!(a===null||a===void 0)){var b=a.indexOf("/"),b=b==-1?a.length:b;return a.toLowerCase().replace("+","_").replace(/ /g,"_").replace("\u00ed","i").replace(/\)/g,"_").replace(/\(/g,"").replace(/-/g,"_").substring(0,b)}}function normalizeBarWidth(a){return a<7?7:a}
function normalizeRegionName(a){return normalizedRegions[a]!=null?normalizedRegions[a]:a}function sanitizeRTVE(a){return replaceWeirdCharacters(a.toLowerCase().replace(/\(/g,"").replace(/\)/g,"").replace(/'/g,"").replace(/"/g,"").replace(/ /g,"-"))}
function lastAvailableYear(){var a=getDeepLevelFromZoomLevel(peninsula!=null?peninsula.getZoom():start_zoom);return var_resolutions[a][normalization[compare]]!=void 0?var_resolutions[a][normalization[compare]][var_resolutions[a][normalization[compare]].length-1]:0}
var normalizedRegions={islas_canarias:"Islas Canarias",las_palmas:"Las Palmas",santa_cruz_de_tenerife:"Santa Cruz de Tenerife",andalucia:"Andaluc\u00eda",comunidad_de_madrid:"Comunidad de Madrid",madrid:"Madrid",cataluna:"Catalu\u00f1a",barcelona:"Barcelona",girona:"Girona",tarragona:"Tarragona",lleida:"Lleida",comunidad_valenciana:"Comunidad Valenciana",alicante:"Alicante",valencia:"Valencia",cantabria:"Cantabria",castellon:"Castell\u00f3n",galicia:"Galicia",a_coruna:"A Coru\u00f1a",pontevedra:"Pontevedra",
ourense:"Ourense",lugo:"Lugo",islas_baleares:"Islas Baleares",baleares:"Baleares",region_de_murcia:"Regi\u00f3n de Murcia",murcia:"Murcia",castilla_y_leon:"Castilla y Le\u00f3n",leon:"Le\u00f3n",palencia:"Palencia",burgos:"Burgos",soria:"Soria",zamora:"Zamora",valladolid:"Valladolid",segovia:"Segovia",salamanca:"Salamanca",avila:"\u00c1vila",valladolid:"Valladolid",pais_vasco:"Pa\u00eds Vasco",guipuzcua:"Guip\u00fazcoa",alava:"\u00c1lava",vizcaya:"Vizcaya",comunidad_foral_de_navarra:"Comunidad Foral de Navarra",
navarra:"Navarra",aragon:"Arag\u00f3n",huesca:"Huesca",teruel:"Teruel",zaragoza:"Zaragoza",la_rioja:"La Rioja",ceuta_y_melilla:"Ceuta y Meilla",extremadura:"Extremadura",principado_de_asturias:"Principado de Asturias",asturias:"Asturias","castilla-la_mancha":"Castilla-La Mancha",toledo:"Toledo",ciudadd_real:"Ciudad Real",albacete:"Albacete",guadalajara:"Guadalajara",cuenca:"Cuenca",malaga:"M\u00e1laga",almeria:"Almer\u00eda",sevilla:"Sevilla",granada:"Granada",cadiz:"C\u00e1diz",huelva:"Huelva",cordoba:"C\u00f3rdoba",
jaen:"Ja\u00e9n"},parties=["psoe","pp","iu","ap","indep","pa","bng","pdp","erc_am","esquerra_am","erc","hb","ciu","cds","par","eaj_pnv","ea","prc","pr","uv","iu_lv_rm","iu_los_verdes","psn_psoe","psoe_andalucia","pp_eu","iu_lv","psdeg_psoe","iulv","iulv_ca","iu_lvcyl","upn","bildu","psoede_andalucia","psoe_de_andalucia","psoe_de","psc_pm"],normalization={paro:"paro_epa_normalizado",envejecimiento:"envejecimiento_normalizado","edad media":"edad_media_normalizado",inmigracion:"inmigracion_normalizado",
"saldo vegetativo":"saldo_vegetativo_normalizado",pib:"pib_normalizado",salario:"salario_medio_normalizado","secundaria acabada":"secundaria_acabada_normalizado","consumo tv":"audiencia_diaria_tv_normalizado","consumo prensa":"prensa_diaria_normalizado","lineas adsl":"penetracion_internet_normalizado",matriculaciones:"matriculaciones_normalizado",detenidos:"detenidos_normalizado","jovenes parados":"jovenes_parados_normalizado","parados larga duracion":"parados_larga_duracion_normalizado"},tooltipInfo=
{Envejecimiento:{content:"Desviaci\u00f3n respecto a la media del \u00edndice de envejecimiento.",right:"m\u00e1s envej.",left:"menos envejec.",legendTop:"M\u00e1s % de mayores de 65 a\u00f1os",legendBottom:"Menos % de mayores de 65 a\u00f1os"},"Inmigraci\u00f3n":{content:"Desviaci\u00f3n respecto a la media del n\u00famero de inmigrantes por habitante.",left:"menos inmigr.",right:"m\u00e1s inmigr.",legendTop:"M\u00e1s % de inmigraci\u00f3n",legendBottom:"Menos % de inmigraci\u00f3n"},"Tasa de paro":{content:"Desviaci\u00f3n respecto a la media de la tasa de paro EPA.",
left:"menos parados",right:"m\u00e1s parados",legendTop:"M\u00e1s % paro",legendBottom:"Menos % paro"},"PIB per c\u00e1pita":{content:"Desviaci\u00f3n respecto a la media del PIB por habitante.",left:"menos PIB",right:"m\u00e1s PIB",legendTop:"M\u00e1s PIB per c\u00e1pita",legendBottom:"Menos PIB per c\u00e1pita"},Matriculaciones:{content:"Desviaci\u00f3n respecto a la media del n\u00famero de veh\u00edculos matriculados.",left:"menos vehic.",right:"m\u00e1s vehic.",legendTop:"M\u00e1s veh\u00edculos",
legendBottom:"Menos veh\u00edculos"},"J\u00f3venes parados":{content:"Desviaci\u00f3n respecto la media del porcentaje de j\u00f3venes parados de larga duraci\u00f3n.",left:"menos paro",right:"m\u00e1s paro",legendTop:"M\u00e1s j\u00f3venes parados",legendBottom:"Menos j\u00f3venes parados"},"Parados larga dur...":{content:"Desviaci\u00f3n respecto a la media del porcentaje de parados durante m\u00e1s de 12 meses.",left:"menos paro",right:"m\u00e1s paro",legendTop:"M\u00e1s parados",legendBottom:"Menos parados"},
"Edad media":{content:"Desviaci\u00f3n respecto a la media en a\u00f1os.",right:"m\u00e1s mayores",left:"m\u00e1s j\u00f3venes",legendTop:"M\u00e1s edad",legendBottom:"Menos edad"},"Saldo Vegetativo":{content:"Desviaci\u00f3n respecto a la media del saldo vegetativo (crecimiento natural).",left:"crece poco",right:"crece mucho",legendTop:"Mayor crecimiento",legendBottom:"Menor crecimiento"},"Salario medio":{content:"Desviaci\u00f3n respecto a la media del salario medio.",left:"sueldos + bajos",right:"sueldos + altos",
legendTop:"Sueldos m\u00e1s altos",legendBottom:"Sueldos m\u00e1s bajos"},"Estudios acabados":{content:"Desviaci\u00f3n respecto a la media del porcentaje de personas con estudios secundarios acabados.",left:"menos habit.",right:"m\u00e1s habit.",legendTop:"M\u00e1s habitantes",legendBottom:"Menos habitantes"},"Consumo TV":{content:"Desviaci\u00f3n respecto a la media de consumo de tv.",left:"menos tv",right:"m\u00e1s tv",legendTop:"M\u00e1s consumo tv",legendBottom:"Menos consumo tv"},"Acceso Internet":{content:"Desviaci\u00f3n respecto a la media del porcentaje de personas con acceso a internet",
left:"menor acceso",right:"mayor acceso",legendTop:"M\u00e1s acceso a internet",legendBottom:"Menos acceso a internet"},"Consumo prensa":{content:"Desviaci\u00f3n respecto a la media del consumo de prensa.",left:"menos prensa",right:"m\u00e1s prensa",legendTop:"M\u00e1s consumo prensa",legendBottom:"Menos consumo prensa"},Detenidos:{content:"Desviaci\u00f3n respecto a la media del n\u00famero de detenidos por cada mil habitantes.",left:"menos detenidos",right:"m\u00e1s detenidos",legendTop:"M\u00e1s detenidos",
legendBottom:"Menos detenidos"}},textInfoWindow={envejecimiento_normalizado:{before_negative:"Su \u00edndice de envejecimiento est\u00e1 un ",after_negative:"<strong>%</strong> por debajo de la media <strong><%= media %>%</strong> en <%= yearSim %>.",before_positive:"Su \u00edndice de envejecimiento est\u00e1 un ",after_positive:"<strong>%</strong> por encima de la media <strong><%= media %>%</strong> en <%= yearSim %>."},paro_epa_normalizado:{before_negative:"La tasa de paro EPA est\u00e1 un ",after_negative:"<strong>%</strong> por debajo de la media <strong>(<%= media %>%)</strong> en <%= yearSim %>.",
before_positive:"La tasa de paro EPA est\u00e1 un ",after_positive:"<strong>%</strong> por encima de la media <strong>(<%= media %>%)</strong> en <%= yearSim %>."},paro_normalizado:{before_negative:"La tasa de paro est\u00e1 un ",after_negative:"<strong>%</strong> por debajo de la media <strong>(<%= media %>%)</strong> en <%= yearSim %>.",before_positive:"La tasa de paro est\u00e1 un ",after_positive:"<strong>%</strong> por encima de la media <strong>(<%= media %>%)</strong> en <%= yearSim %>."},
pib_normalizado:{before_negative:"El PIB per c\u00e1pita est\u00e1 un ",after_negative:"<strong>%</strong> por debajo de la media <strong>(<%= media %> mil)</strong> en <%= yearSim %>.",before_positive:"El PIB per c\u00e1pita est\u00e1 un ",after_positive:"<strong>%</strong> por encima de la media <strong>(<%= media %> mil)</strong> en <%= yearSim %>."},edad_media_normalizado:{before_negative:"Su poblaci\u00f3n es ",after_negative:" a\u00f1os m\u00e1s j\u00f3ven que la media <strong>(<%= media %> a\u00f1os)</strong> en <%= yearSim %>.",
before_positive:"Su poblaci\u00f3n es ",after_positive:" a\u00f1os mayor que la media <strong>(<%= media %> a\u00f1os)</strong> en <%= yearSim %>."},inmigracion_normalizado:{before_negative:"El porcentaje de inmigraci\u00f3n est\u00e1 un ",after_negative:"<strong>%</strong> por debajo de la media <strong>(<%= media %>%)</strong> en <%= yearSim %>.",before_positive:"El porcentaje de inmigraci\u00f3n est\u00e1 un ",after_positive:"<strong>%</strong> por encima de la media <strong>(<%= media %>%)</strong> en <%= yearSim %>."},
saldo_vegetativo_normalizado:{before_negative:"El crecimiento natural est\u00e1 un ",after_negative:"<strong>%</strong> por debajo de la media en <%= yearSim %>.",before_positive:"El crecimiento natural est\u00e1 un ",after_positive:"<strong>%</strong> por encima de la media en <%= yearSim %>."},salario_medio_normalizado:{before_negative:"El salario medio est\u00e1 un ",after_negative:"<strong>%</strong> por debajo de la media <strong>(<%= media %>\u20ac)</strong> en <%= yearSim %>.",before_positive:"El salario medio est\u00e1 un ",
after_positive:"<strong>%</strong> por encima de la media <strong>(<%= media %>\u20ac)</strong> en <%= yearSim %>."},secundaria_acabada_normalizado:{before_negative:"% de hab. con estudios secundarios est\u00e1 un ",after_negative:"<strong>%</strong> por debajo de la media <strong>(<%= media %>%)</strong> en <%= yearSim %>.",before_positive:"% de hab. con estudios secundarios est\u00e1 un ",after_positive:"<strong>%</strong> por encima de la media <strong>(<%= media %>%)</strong> en <%= yearSim %>."},
penetracion_internet_normalizado:{before_negative:"La penetraci\u00f3n de Internet est\u00e1 un ",after_negative:"<strong>%</strong> por debajo de la media en <%= yearSim %>.",before_positive:"La penetraci\u00f3n de Internet est\u00e1 un ",after_positive:"<strong>%</strong> por encima de la media en <%= yearSim %>."},audiencia_diaria_tv_normalizado:{before_negative:"La audiencia de TV est\u00e1 un ",after_negative:"<strong>%</strong> por debajo de la media en <%= yearSim %>.",before_positive:"La audiencia de TV est\u00e1 un ",
after_positive:"<strong>%</strong> por encima de la media en <%= yearSim %>."},prensa_diaria_normalizado:{before_negative:"El n\u00famero de lectores de prensa est\u00e1 un ",after_negative:"<strong>%</strong> por debajo de la media en <%= yearSim %>.",before_positive:"El n\u00famero de lectores de prensa est\u00e1 un ",after_positive:"<strong>%</strong> por encima de la media en <%= yearSim %>."},matriculaciones_normalizado:{before_negative:"Hay un ",after_negative:"% menos de veh\u00edculos matriculados que la media <strong>(<%= media %> veh\u00edc.)</strong> en <%= yearSim %>.",
before_positive:"Hay un ",after_positive:"% m\u00e1s de veh\u00edculos matriculados que la media <strong>(<%= media %> veh\u00edc.)</strong> en <%= yearSim %>."},detenidos_normalizado:{before_negative:"Hay un ",after_negative:"<strong>%</strong> menos de detenidos que la media <strong>(<%= media %> por cada mil hab.)</strong> en <%= yearSim %>.",before_positive:"Hay un ",after_positive:"<strong>%</strong> m\u00e1s de detenidos que la media <strong>(<%= media %> por cada mil hab.)</strong> en <%= yearSim %>."},
jovenes_parados_normalizado:{before_negative:"Hay un",after_negative:"<strong>%</strong> menos de j\u00f3venes parados que la media <strong>(<%= media %>%)</strong> en <%= yearSim %>.",before_positive:"Hay un",after_positive:"<strong>%</strong> mas de j\u00f3venes parados que la media <strong>(<%= media %>%)</strong> en <%= yearSim %>."},parados_larga_duracion_normalizado:{before_negative:"Hay un ",after_negative:"<strong>%</strong> menos de parados de larga duraci\u00f3n que la media <strong>(<%= media %>%)</strong> en <%= yearSim %>.",
before_positive:"Hay un ",after_positive:"<strong>%</strong> mas de parados de larga duraci\u00f3n que la media <strong>(<%= media %>%)</strong> en <%= yearSim %>."}},explanationContent={"Resultados electorales":{htmlContent:"<h1>Resultados Electorales</h1><p class='rango'>Datos disponibles a nivel de municipio entre 1987 y 2011</p><p>A nivel de comunidad aut\u00f3noma y de provincia, se muestra el n\u00famero de municipios con mayor n\u00famero de votantes a los diferentes partidos pol\u00edticos. <br /><br />A nivel de municipio, porcentaje de votantes (aplicando redondeo sim\u00e9trico) de los diferentes partidos pol\u00edticos.</p>",
graph:!1,sourceText:"<p class='fuente'>Puedes acceder a los datos en <a href='http://www.infoelectoral.mir.es/min/areaDescarga.html'>la web del Ministerio de Interior</a></p>",units:"",graphRange:"100"},"Edad media":{htmlContent:"<h1>Edad media de la poblaci\u00f3n</h1><p class='rango'>Datos disponibles a nivel de municipio entre 2000 y 2010</p><p>C\u00e1lculo de la edad media de la poblaci\u00f3n a partir de los grupos quinquenales de distribuci\u00f3n de edad del Instituto Nacional de Estad\u00edstica, considerando el valor medio para cada tramo.</p>",
graph:!0,sourceText:"<p class='fuente'>Puedes acceder a los datos en bruto en <a href='http://www.ine.es/jaxi/menu.do?type=pcaxis&path=%2Ft20%2Fe245&file=inebase&L=0'>la web del Instituto Nacional de Estad\u00edstica</a></p>",units:" a\u00f1os",graphRange:"60"},Envejecimiento:{htmlContent:"<h1>Envejecimiento de la poblaci\u00f3n</h1><p class='rango'>Datos disponibles a nivel provincial entre 1991 y 2011</p><p>Proporci\u00f3n existente entre el n\u00famero de personas mayores y el de ni\u00f1os para una poblaci\u00f3n determinada. Se calcula como el n\u00famero de adultos mayores de 65 a\u00f1os por cada 100 ni\u00f1os menores de 15.</p>",
graph:!0,sourceText:"<p class='fuente'>Puedes acceder a los datos en bruto en <a href='http://www.ine.es/jaxi/tabla.do?per=12&type=db&divi=IDB&idtab=57'>la web del Instituto Nacional de Estad\u00edstica</a></p>",units:"",graphRange:"150"},"Porcentaje de inmigraci\u00f3n":{htmlContent:"<h1>Porcentaje de inmigraci\u00f3n</h1><p class='rango'>Datos disponibles a nivel de municipio entre 1999 y 2010</p><p>N\u00famero de inmigrantes residentes en el municipio, provincia o CCAA (seg\u00fan proceda) por cada 100 habitantes.</p>",
graph:!0,sourceText:"<p class='fuente'>Puedes acceder a los datos en bruto en <a href='http://www.ine.es/jaxi/menu.do?type=pcaxis&path=%2Ft20%2Fe245%2F&file=inebase&L=0'>la web del Instituto Nacional de Estad\u00edstica</a></p>",units:"%",graphRange:"100"},"Saldo vegetativo":{htmlContent:"<h1>Saldo vegetativo</h1><p class='rango'>Datos disponibles a nivel de provincia entre 1987 y 2009</p><p>Indicador demogr\u00e1fico b\u00e1sico que expresa el crecimiento natural de una poblaci\u00f3n, calculado como el n\u00famero de nacimientos menos el de defunciones por cada mil habitantes.</p>",
graph:!0,sourceText:"<p class='fuente'>Puedes acceder a los datos en bruto en <a href='http://www.ine.es/jaxi/tabla.do?per=12&type=db&divi=IDB&idtab=51'>la web del Instituto Nacional de Estad\u00edstica</a></p>",units:" por mil",graphRange:"20"},"Tasa de paro":{htmlContent:"<h1>Tasa de paro seg\u00fan la encuesta de poblaci\u00f3n activa (EPA)</h1><p class='rango'>Datos disponibles a nivel de comunidad aut\u00f3noma entre 2005 y el primer trimestre de 2011</p><p>Porcentaje de personas sobre la poblaci\u00f3n activa que se encuentran en situaci\u00f3n de desempleo.</p>",
graph:!0,sourceText:"<p class='fuente'>Puedes acceder a los datos en bruto en el <a href='http://www.ine.es/jaxi/menu.do?type=pcaxis&path=/t22/e308_mnu&file=inebase&N=&L=0'>Instituto Nacional de Estad\u00edstica</a></p>",units:"% en el primer trimestre",graphRange:"100"},"Parados larga duraci\u00f3n":{htmlContent:"<h1>Parados de larga duraci\u00f3n</h1><p class='rango'>Datos disponibles a nivel de comunidad aut\u00f3noma entre 1991 y 2009</p><p>Personas desempleadas durante 12 meses o m\u00e1s, en porcentaje sobre la poblaci\u00f3n activa.</p>",
graph:!0,sourceText:"<p class='fuente'>Puedes acceder a los datos en bruto en la <a href='http://www.ine.es/daco/daco42/sociales10/cohe-prov.xls'>web del Instituto Nacional de Estad\u00edstica</a></p>",units:"%",graphRange:"100"},"J\u00f3venes parados larga duraci\u00f3n":{htmlContent:"<h1>J\u00f3venes parados de larga duraci\u00f3n</h1><p class='rango'>Datos disponibles a nivel de comunidad aut\u00f3noma entre 1991 y 2009</p><p>Poblaci\u00f3n entre los 16 y los 29 a\u00f1os en situaci\u00f3n de desempleo durante 12 meses o m\u00e1s, en porcentaje sobre la poblaci\u00f3n del mismo rango de edad.</p>",
graph:!0,sourceText:"<p class='fuente'>Puedes acceder a los datos en bruto en la <a href='http://www.ine.es/daco/daco42/sociales10/cohe-prov.xls'>web del Instituto Nacional de Estad\u00edstica</a></p>",units:"%",graphRange:"100"},"PIB per c\u00e1pita":{htmlContent:"<h1>PIB per c\u00e1pita</h1><p class='rango'>Datos disponibles a nivel de provincia entre 1999 y 2008</p><p>Producto Interior Bruto en miles de euros a precios de mercado por habitante. Los valores correspondientes a los a\u00f1os 2007 y 2008 son estimaciones.</p>",
graph:!0,sourceText:"<p class='fuente'>Puedes acceder a los datos en bruto en <a href='http://www.ine.es/daco/daco42/cre00/serieh/cre00_sh.htm'>la web del Instituto Nacional de Estad\u00edstica</a></p>",units:"Mil \u20ac",graphRange:"50"},"Salario medio":{htmlContent:"<h1>Salario medio</h1><p class='rango'>Datos disponibles a nivel de comunidad aut\u00f3noma entre 1995 y 2009</p><p>Salario medio calculado mediante la divisi\u00f3n de la remuneraci\u00f3n total de los asalariados entre el n\u00famero total de asalariados.</p>",
graph:!0,sourceText:"<p class='fuente'>Puedes acceder a los datos en bruto en <a href='http://www.ine.es/daco/daco42/cre00/serieh/cre00_sh.htm'>la web del Instituto Nacional de Estad\u00edstica</a></p>",units:"\u20ac",graphRange:"50000"},Matriculaciones:{htmlContent:"<h1>Matriculaciones de turismos y motocicletas</h1><p class='rango'>Datos disponibles a nivel de provincia entre 1997 y 2009</p><p>Matriculaciones totales de turismos y motocicletas, en n\u00famero de veh\u00edculos.</p>",graph:!0,sourceText:"<p class='fuente'>Puedes acceder a los datos en bruto en <a href='http://www.dgt.es/portal/es/seguridad_vial/estadistica/matriculaciones_definitivas/provincias_tipo_vehiculo/'>la web de la Direcci\u00f3n General de Tr\u00e1fico</a></p>",
units:" veh\u00edculos",graphRange:"140000"},"Estudios superiores":{htmlContent:"<h1>Poblaci\u00f3n con estudios superiores</h1><p class='rango'>Datos disponibles a nivel de provincia entre 2004 y 2011</p><p>Porcentaje de la poblaci\u00f3n con m\u00e1s de 16 a\u00f1os con estudios superiores.</p>",graph:!0,sourceText:"<p class='fuente'>Puedes acceder a los datos en bruto en <a href='http://www.ine.es/daco/daco42/sociales10/educa-prov.xls'>la web del Ministerio de Educaci\u00f3n y Ciencia</a></p>",
units:"%",graphRange:"100"},"Consumo de TV":{htmlContent:"<h1>Consumo de televisi\u00f3n</h1><p class='rango'>Datos disponibles a nivel de comunidad aut\u00f3noma entre 1997 y 2009</p><p>Audiencia acumulada diaria como porcentaje sobre la poblaci\u00f3n mayor de 14 a\u00f1os. Dato proporcionado por el Instituto Nacional de Estad\u00edstica a partir de un estudio de AIMC.</p>",graph:!1,sourceText:"<p class='fuente'>Puedes acceder a los datos en bruto en <a href='http://www.ine.es/jaxi/tabla.do?path=/t12/a110/a01/l0/&file=o40044.px&type=pcaxis&L=0'>la web del Instituto Nacional de Estad\u00edstica</a></p>",
units:"%",graphRange:"100"},"Consumo de prensa":{htmlContent:"<h1>Consumo de prensa</h1><p class='rango'>Datos disponibles a nivel de comunidad aut\u00f3noma entre 2000 y 2009</p><p>Audiencia acumulada diaria como porcentaje sobre la poblaci\u00f3n mayor de 14 a\u00f1os. Dato proporcionado por el Instituto Nacional de Estad\u00edstica a partir de un estudio de AIMC.</p>",graph:!1,sourceText:"<p class='fuente'>Puedes acceder a los datos en bruto en <a href='http://www.ine.es/jaxi/tabla.do?path=/t12/a110/a01/l0/&file=o40022.px&type=pcaxis&L=0'>la web del Instituto Nacional de Estad\u00edstica</a></p>",
units:"%",graphRange:"100"},"Penetraci\u00f3n de internet":{htmlContent:"<h1>Penetraci\u00f3n de internet</h1><p class='rango'>Datos disponibles a nivel de comunidad aut\u00f3noma entre 2004 y 2010</p><p>Indicador de la penetraci\u00f3n de Internet en la poblaci\u00f3n espa\u00f1ola.</p>",graph:!1,sourceText:"<p class='fuente'>Puedes acceder a los datos en bruto en <a href='http://www.aimc.es/-Audiencia-de-Internet-en-el-EGM-.html'>el Estudio General de Medios de la AIMC de Octubre / Noviembre de 2010.</a></p>",
units:"%",graphRange:"100"},Detenidos:{htmlContent:"<h1>Detenidos</h1><p class='rango'>Datos disponibles a nivel de provincia entre 1993 y 2009</p><p>N\u00famero de personas detenidas por la Guardia Civil y la Polic\u00eda Nacional por cada mil habitantes.</p>",graph:!0,sourceText:"<p class='fuente'>Puedes acceder a los datos en bruto en <a href='http://www.ine.es/daco/daco42/sociales10/cohe-prov.xls'>la web del Instituto Nacional de Estad\u00edstica</a></p>",units:" por mil",graphRange:"100"}},table_zoom=
{12:"gadm4",11:"gadm4",9:"gadm2",8:"gadm2",7:"gadm2",6:"gadm1"},procesos_electorales={1987:"68",1988:"68",1989:"68",1990:"68",1991:"69",1992:"69",1993:"69",1994:"69",1995:"70",1996:"70",1997:"70",1998:"70",1999:"71",2E3:"71",2001:"71",2002:"71",2003:"72",2004:"72",2005:"72",2006:"72",2007:"73",2008:"73",2009:"73",2010:"73",2011:"76"},graph_hack_year={1987:"1987",1988:"1987",1989:"1987",1990:"1987",1991:"1991",1992:"1991",1993:"1991",1994:"1991",1995:"1995",1996:"1995",1997:"1995",1998:"1995",1999:"1999",
2E3:"1999",2001:"1999",2002:"1999",2003:"2003",2004:"2003",2005:"2003",2006:"2003",2007:"2007",2008:"2007",2009:"2007",2010:"2007",2011:"2011"};
function replaceWeirdCharacters(a){a=a.replace(/[\u00e0\u00e1\u00e2\u00e3\u00e4\u00e5\u0101\u0103]/,"a");a=a.replace(/\u00e6/g,"ae");a=a.replace(/[\u010f\u0111]/g,"d");a=a.replace(/[\u00e7\u0107\u010d\u0109\u010b]/g,"c");a=a.replace(/[\u00e8\u00e9\u00ea\u00eb\u0113\u0119\u011b\u0115\u0117]/g,"e");a=a.replace(/\u0192/g,"f");a=a.replace(/[\u011d\u011f\u0121\u0123]/g,"g");a=a.replace(/[\u0125\u0127]/g,"h");a=a.replace(/[\u00ec\u00ec\u00ed\u00ee\u00ef\u012b\u0129\u012d]/g,"i");a=a.replace(/[\u012f\u0131\u0133\u0135]/g,
"j");a=a.replace(/[\u0137\u0138]/g,"k");a=a.replace(/[\u0142\u013e\u013a\u013c\u0140]/g,"l");a=a.replace(/[\u00f1\u0144\u0148\u0146\u0149\u014b]/g,"n");a=a.replace(/[\u00f2\u00f3\u00f4\u00f5\u00f6\u00f8\u014d\u0151\u014f\u014f]/g,"o");a=a.replace(/\u0153/g,"oe");a=a.replace(/\u0105/g,"q");a=a.replace(/[\u0155\u0159\u0157]/g,"r");a=a.replace(/[\u015b\u0161\u015f\u015d\u0219]/g,"s");a=a.replace(/[\u0165\u0163\u0167\u021b]/g,"t");a=a.replace(/[\u00f9\u00fa\u00fb\u00fc\u016b\u016f\u0171\u016d\u0169\u0173]/g,
"u");a=a.replace(/\u0175/g,"w");a=a.replace(/[\u00fd\u00ff\u0177]/g,"y");a=a.replace(/[\u017e\u017c\u017a]/g,"z");a=a.replace(/[\u00c0\u00c1\u00c2\u00c3\u00c4\u00c5\u0100\u0102]/i,"A");a=a.replace(/\u00c6/i,"AE");a=a.replace(/[\u010e\u0110]/i,"D");a=a.replace(/[\u00c7\u0106\u010c\u0108\u010a]/i,"C");a=a.replace(/[\u00c8\u00c9\u00ca\u00cb\u0112\u0118\u011a\u0114\u0116]/i,"E");a=a.replace(/\u0191/i,"F");a=a.replace(/[\u011c\u011e\u0120\u0122]/i,"G");a=a.replace(/[\u0124\u0126]/i,"H");a=a.replace(/[\u00cc\u00cc\u00cd\u00ce\u00cf\u012a\u0128\u012c]/i,
"I");a=a.replace(/[\u0132\u0134]/i,"J");a=a.replace(/[\u0136\u0138]/i,"J");a=a.replace(/[\u0141\u013d\u0139\u013b\u013f]/i,"L");a=a.replace(/[\u00d1\u0143\u0147\u0145\u0149\u014a]/i,"M");a=a.replace(/[\u00d2\u00d3\u00d4\u00d5\u00d6\u00d8\u014c\u0150\u014e\u014e]/i,"N");a=a.replace(/\u0152/i,"OE");a=a.replace(/\u0104/i,"Q");a=a.replace(/[\u0154\u0158\u0156]/i,"R");a=a.replace(/[\u015a\u0160\u015e\u015c\u0218]/i,"S");a=a.replace(/[\u0164\u0162\u0166\u021a]/i,"T");a=a.replace(/[\u00d9\u00da\u00db\u00dc\u016a\u016e\u0170\u016c\u0168\u0172]/i,
"U");a=a.replace(/\u0174/i,"W");a=a.replace(/[\u00dd\u0178\u0176]/i,"Y");a=a.replace(/[\u017d\u017b\u0179]/i,"Z");a=a.replace(/ /g,"_");a=a.replace(/'/g,"");a=a.replace(/\//g,"");return a.toLowerCase()};function ExplanationWindow(){this.create()}ExplanationWindow.prototype={};
ExplanationWindow.prototype.create=function(){var a=this;this.div=document.createElement("div");this.div.setAttribute("id","appInfo");this.div.innerHTML='<a class="close_info"></a><div class="options"><span class="arrow"></span><h3>\u00bfDE D\u00d3NDE SALEN LOS DATOS?</h3><h4><a href="#" id="electorales">Datos electorales</a></h4><ul><li><a href="#" alt="electorales">Resultados electorales</a></li></ul><h4><a href="#">Datos demogr\u00e1ficos</a></h4><ul><li><a href="#Edad media" alt="edad media">Edad media</a></li><li><a href="#Envejecimiento" alt="envejecimiento">Envejecimiento</a></li><li><a href="#Inmigraci\u00f3n" alt="inmigracion">Porcentaje de inmigraci\u00f3n</a></li><li><a href="#Inmigraci\u00f3n" alt="saldo vegetativo">Saldo vegetativo</a></li></ul><h4><a href="#">Datos econ\u00f3micos</a></h4><ul><li><a href="#Inmigraci\u00f3n" alt="paro">Tasa de paro</a></li><li><a href="#Inmigraci\u00f3n" alt="parados larga duracion">Parados larga duraci\u00f3n</a></li><li><a href="#Inmigraci\u00f3n" alt="jovenes parados">J\u00f3venes parados larga duraci\u00f3n</a></li><li><a href="#Inmigraci\u00f3n" alt="pib">PIB per c\u00e1pita</a></li><li><a href="#Inmigraci\u00f3n" alt="salario">Salario medio</a></li><li><a href="#Inmigraci\u00f3n" alt="matriculaciones">Matriculaciones</a></li></ul><h4><a href="#">Datos sociol\u00f3gicos</a></h4><ul><li><a href="#Inmigraci\u00f3n" alt="secundaria acabada">Estudios superiores</a></li><li><a href="#Inmigraci\u00f3n" alt="consumo tv">Consumo de TV</a></li><li><a href="#Inmigraci\u00f3n" alt="consumo prensa">Consumo de prensa</a></li><li><a href="#Inmigraci\u00f3n" alt="lineas adsl">Penetraci\u00f3n de internet</a></li><li><a href="#Inmigraci\u00f3n" alt="detenidos">Detenidos</a></li></ul></div><div class="explain"></div>';$("div.tabs").append(this.div);
$(this.div).children("a.close_info").click(function(b){b.stopPropagation();b.preventDefault();a.hide()});$(this.div).find("h4").click(function(a){a.stopPropagation();a.preventDefault();$(this).parent().find("ul").hide("slow");$(this).next("ul").toggle("slow")});$(this.div).find("li").children("a").click(function(a){a.stopPropagation();a.preventDefault();if(!$(this).parent().hasClass("selected")){$("div#appInfo ul li").each(function(a,b){$(b).removeClass("selected")});$(this).parent().addClass("selected");
$("div#appInfo div.explain").children().remove();$("div#appInfo div.explain").append(explanationContent[$(this).parent().text()].htmlContent);if(explanationContent[$(this).parent().text()].graph){var a=normalization[$(this).attr("alt")].replace("_normalizado",""),d="",c=-99999999999,e=99999999999,f=1981;for(year=1987;year<=2011;year++)e=max_min_avg[a+"_"+year+"_avg"],e!=void 0&&(e<0&&(e=0),e>c&&(c=e),d+=e+",",f=year);d.charAt(d.length-1)==","&&(d=d.substring(0,d.length-1));e=0;c=explanationContent[$(this).parent().text()].graphRange;
d="http://chart.apis.google.com/chart?chs=480x166&cht=ls&chco=862071&chd=t:"+d+"&chg=5,-1,0,1&chls=3&chma=|0,3&chm=B,E6DBE4,0,0,0&chds="+e+","+c;$("div#appInfo div.explain").append("<div class='chart'><img src='"+d+"' class='chart'/></div>");$("div#appInfo div.explain div.chart").append("<div class='chartCurrentLabel'><span class='value'>"+max_min_avg[a+"_"+f+"_avg"]+"</span><br/><span class='year'>"+explanationContent[$(this).parent().text()].units+" en "+f+"</span>")}$("div#appInfo div.explain").append(explanationContent[$(this).parent().text()].sourceText);
a=$(this).position().top;$("div#appInfo span.arrow").animate({top:a+"px"},300)}});$(this.div).draggable({containment:"parent"})};ExplanationWindow.prototype.show=function(a){aboutwindow.hide();$(this.div).css({margin:"-277px 0 0 -385px",top:"50%",left:"50%"});$(this.div).fadeIn();$(this.div).find("ul").hide();a=a||compare==void 0?"electorales":compare;$('[alt="'+a+'"]').parent().parent().show();$('[alt="'+a+'"]').click()};ExplanationWindow.prototype.hide=function(){$(this.div).fadeOut()};var google_autocomplete;function CompareWindow(){this.create();this.firstZoom=12;this.position="top";this.firstData={};this.secondData={};this.bar_width_multiplier=140;this.slider_position=0;this.total_variables=10}CompareWindow.prototype={};
CompareWindow.prototype.create=function(){var a=this;this.div=document.createElement("div");this.div.setAttribute("id","comparewindow");this.div.innerHTML='<a class="close_infowindow"></a><div id="compare_region1" class="top"><h2>Alaejos <a class="remove_compare" href="#eliminar">ELIMINAR</a></h2><p class="province">Valladolid, 11.982 habitantes.</p><div class="stats"><h4>65% de participaci\u00f3n</h4><div class="partido psoe"><div class="bar"><span class="l"></span><span class="c"></span><span class="r"></span></div><p>PSOE (61%)</p></div><div class="partido pp"><div class="bar"><span class="l"></span><span class="c"></span><span class="r"></span></div><p>PP (36%)</p></div><div class="partido iu"><div class="bar"><span class="l"></span><span class="c"></span><span class="r"></span></div><p>IU (12%)</p></div><div class="partido otros"><p><a href="http://resultados-elecciones.rtve.es/municipales/" target="_blank">OTROS DATOS  (61%)</a></p></div></div><div class="summary"><h4>Municipios en los que es el m\u00e1s votado...</h4><ul><li class="partido psoe bar"><strong>231</strong><span>PSOE</span></li><li class="partido pp bar"><strong>231</strong><span>PP</span></li><li class="partido iu bar"><strong>231</strong><span>IU</span></li><li class="partido otros"><strong>231</strong><span>OTROS</span></li></ul></div><div class="compare_graph"><a href="#" class="left">left</a><a href="#" class="right">right</a><div class="outer_stats_slider"><div class="stats_slider"></div></div></div></div><div id="compare_region2" class="bottom search"><div class="province"><p>Elije una provincia para comparar</p></div><div class="search"><h4>Selecciona otro lugar para comparar...</h4><form class="search_compare"><input class="text" type="text" value="Introduce una ubicaci\u00f3n" id="google_compare_autocomplete" /><input class="submit" type="submit" value=""/></form><p class="refer">\u00bfTe refieres a... <a href="#Almendralejo">Almendralejo, Extremadura</a>?</p></div><div class="region"><h2>Alaejos <a class="remove_compare" href="#eliminar">ELIMINAR</a></h2><p class="province">Valladolid, 11.982 habitantes.</p><div class="stats"><h4>65% de participaci\u00f3n</h4><div class="partido psoe"><div class="bar"><span class="l"></span><span class="c"></span><span class="r"></span></div><p>PSOE (61%)</p></div><div class="partido pp"><div class="bar"><span class="l"></span><span class="c"></span><span class="r"></span></div><p>PP (36%)</p></div><div class="partido iu"><div class="bar"><span class="l"></span><span class="c"></span><span class="r"></span></div><p>IU (12%)</p></div><div class="partido otros"><p><a href="http://resultados-elecciones.rtve.es/municipales/" target="_blank">OTROS DATOS</a></p></div></div><div class="summary"><h4>Municipios en los que es el m\u00e1s votado...</h4><ul><li class="partido psoe bar"><strong>231</strong><span>PSOE</span></li><li class="partido pp bar"><strong>231</strong><span>PP</span></li><li class="partido iu bar"><strong>231</strong><span>IU</span></li><li class="partido otros"><strong>231</strong><span>OTROS</span></li></ul></div></div></div>';$("div.tabs").append(this.div);
$(this.div).children("a.close_infowindow").click(function(b){b.stopPropagation();b.preventDefault();a.hide()});$(this.div).draggable({containment:"parent"});$("div.compare_graph a.right").click(function(a){a.stopPropagation();a.preventDefault();$("div.outer_stats_slider").scrollTo({top:"+=0",left:"+=299"},500)});$("div.compare_graph a.left").click(function(a){a.stopPropagation();a.preventDefault();$("div.outer_stats_slider").scrollTo({top:"+=0",left:"-=299"},500)});$("form.search_compare").submit(function(a){a.stopPropagation();
a.preventDefault()});$("form.search_compare").submit(function(a){a.stopPropagation();a.preventDefault()});$("a.remove_compare").live("click",function(b){b.stopPropagation();b.preventDefault();a.removeRegion($(this).closest("div").attr("class"))});$("a.resumen").live("click",function(a){a.stopPropagation();a.preventDefault();this.position="up";$("div.outer_stats_slider").scrollTo({top:"0px",left:"+=0"},500)});$("a.evolucion").live("click",function(a){a.stopPropagation();a.preventDefault();this.position=
"down";$("div.outer_stats_slider").scrollTo({top:"110px",left:"+=0"},500)});a.addGoogleAutocomplete()};
CompareWindow.prototype.addGoogleAutocomplete=function(){var a=document.getElementById("google_compare_autocomplete"),b={bounds:new google.maps.LatLngBounds(new google.maps.LatLng(27.391278222579277,-18.45703125),new google.maps.LatLng(42.601619944327965,4.0869140625))};google_autocomplete=new google.maps.places.Autocomplete(a,b);google.maps.event.addListener(google_autocomplete,"place_changed",function(){var a=google_autocomplete.getPlace();comparewindow.compareSecondRegion(null,a.formatted_address)})};
CompareWindow.prototype.drawTopBar=function(a,b){var d=a-1,c=["primer","segundo","tercer","otros"],e=b.data[year][c[d]+"_partido_percent"];a<4?b.data[year][c[d]+"_partido_name"]!=void 0?(c=b.data[year][c[d]+"_partido_name"].toLowerCase().replace("-","_"),bar_width=e*this.bar_width_multiplier/100,_.indexOf(parties,c)!==-1?$("div#comparewindow div.top div.stats div.partido:eq("+d+")").addClass(c):$("div#comparewindow div.top div.stats div.partido:eq("+d+")").addClass("par"+a),$("div#comparewindow div.top div.stats div.partido:eq("+
d+")").show(),$("div#comparewindow div.top div.stats div.partido:eq("+d+") span.c").width(bar_width<2?2:bar_width),$("div#comparewindow div.top div.stats div.partido:eq("+d+") p").text(c+" ("+e+"%)")):$("div#comparewindow div.top div.stats div.partido:eq("+d+")").hide():($("div#comparewindow div.top div.stats div.partido:eq("+d+") p a").text("OTROS DATOS"),year>2006?(b.lavinia_url!=void 0?(e=b.lavinia_url.split("|"),$("div#comparewindow div.top div.stats div.partido:eq("+d+") p a").attr("href","http://resultados-elecciones.rtve.es/municipales/"+
e[0]+"/provincias/"+e[1]+"/municipios/"+e[2]+"/")):$("div#comparewindow div.top div.stats div.partido:eq("+d+") p a").attr("href","http://resultados-elecciones.rtve.es/"),$("div#comparewindow div.top div.stats div.partido:eq("+d+")").show()):$("div#comparewindow div.top div.stats div.partido:eq("+d+")").hide())};
CompareWindow.prototype.compareFirstRegion=function(a,b){this.firstData=a;if(b!=null)this.firstZoom=b;$("div.stats_slider").empty();this.resetSearch();this.refreshBottom();$("div.outer_stats_slider").scrollTo({top:"0",left:"0"},1);this.createChart(a,!0);this.setUpChartView();this.deep_level=getDeepLevelFromZoomLevel(this.firstZoom);a.name!=void 0&&($("div#comparewindow div.top h2").html(a.name+' <a class="remove_compare" href="#eliminar">ELIMINAR</a>'),$("div#comparewindow div.top p.province").text((a.provincia!=
void 0?a.provincia+", ":"")+(a.data[year].censo_total!=void 0?a.data[year].censo_total+" habitantes":"")),a.provincia!=null&&$("div#comparewindow div.top div.stats h4").text(parseFloat(a.data[year].percen_participacion).toFixed(0)+"% de participaci\u00f3n"),$("div#comparewindow div.top div.stats div.partido").each(function(a,b){$(b).removeClass(parties.join(" ")+" par1 par2 par3")}),$("div#comparewindow div#compare_region1 div.summary li.partido").each(function(a,b){$(b).removeClass(parties.join(" ")+
" par1 par2 par3")}),a.provincia!=null?a.data[year].primer_partido_name!=void 0?(this.drawTopBar(1,a),this.drawTopBar(2,a),this.drawTopBar(3,a),this.drawTopBar(4,a),$("div#comparewindow div.stats").css({opacity:1,display:"block"}),$("div#comparewindow div#compare_region1 div.summary").hide()):$("div#comparewindow div.stats").css({opacity:0,display:"block"}):(this.drawTotalNumber(1,1,a,!1),this.drawTotalNumber(2,1,a,!1),this.drawTotalNumber(3,1,a,!1),this.drawTotalNumber(4,1,a,!1),$("div#comparewindow div#compare_region1 div.summary").show(),
$("div#comparewindow div.stats").css({opacity:0,display:"none"})));this.show()};
CompareWindow.prototype.compareSecondRegion=function(a,b,d){function c(a,b){e.secondData=a;e.createChart(a,!1);$("div#comparewindow div.bottom").removeClass("search province").addClass("region");$("div#comparewindow div.bottom div.region h2").html(a.name+' <a class="remove_compare" href="#eliminar">ELIMINAR</a>');$("div#comparewindow div.bottom div.region p.province").text((a.provincia!=void 0?a.provincia+", ":"")+(a.data[year].censo_total!=void 0?a.data[year].censo_total+" habitantes":""));a.provincia!=
null&&$("div#comparewindow div.bottom div.region h4").text(parseFloat(a.data[year].percen_participacion).toFixed(0)+"% de participaci\u00f3n");$("div#comparewindow div.bottom div.region div.stats div.partido").each(function(a,b){$(b).removeClass(parties.join(" ")+" par1 par2 par3")});$("div#comparewindow div#compare_region2 div.summary li.partido").each(function(a,b){$(b).removeClass(parties.join(" ")+" par1 par2 par3")});b==void 0&&getDeepLevelFromZoomLevel(peninsula.getZoom());if(a.provincia==null)e.drawTotalNumber(1,
2,e.secondData,!1),e.drawTotalNumber(2,2,e.secondData,!1),e.drawTotalNumber(3,2,e.secondData,!1),e.drawTotalNumber(4,2,e.secondData,!1),$("div#comparewindow div#compare_region2 div.summary").show(),$("div#comparewindow div#compare_region2 div.stats").hide();else{$("div#comparewindow div#compare_region2 div.summary").hide();var c;a.data[year].primer_partido_name!=void 0?(c=a.data[year].primer_partido_name.toLowerCase().replace("-","_"),_.indexOf(parties,c)!==-1?$("div#comparewindow div.bottom div.region div.stats div.partido:eq(0)").addClass(c):
$("div#comparewindow div.bottom div.region div.stats div.partido:eq(0)").addClass("par1"),c=a.data[year].primer_partido_percent*200/100,$("div#comparewindow div.bottom div.region div.stats div.partido:eq(0) span.c").width(c<2?2:c),$("div#comparewindow div.bottom div.region div.stats div.partido:eq(0) p").text(a.data[year].primer_partido_name+" ("+a.data[year].primer_partido_percent+"%)"),a.data[year].segundo_partido_name!=void 0?(c=a.data[year].segundo_partido_name.toLowerCase().replace("-","_"),
_.indexOf(parties,c)!==-1?$("div#comparewindow div.bottom div.region div.stats div.partido:eq(1)").addClass(c):$("div#comparewindow div.bottom div.region div.stats div.partido:eq(1)").addClass("par2"),c=a.data[year].segundo_partido_percent*200/100,$("div#comparewindow div.bottom div.region div.stats div.partido:eq(1) span.c").width(c<2?2:c),$("div#comparewindow div.bottom div.region div.stats div.partido:eq(1) p").text(a.data[year].segundo_partido_name+" ("+a.data[year].segundo_partido_percent+"%)"),
$("div#comparewindow div.bottom div.region div.stats div.partido:eq(1)").show()):$("div#comparewindow div.bottom div.region div.stats div.partido:eq(1)").hide(),a.data[year].tercer_partido_name!=void 0?(c=a.data[year].tercer_partido_name.toLowerCase().replace("-","_"),_.indexOf(parties,c)!==-1?$("div#comparewindow div.bottom div.region div.stats div.partido:eq(2)").addClass(c):$("div#comparewindow div.bottom div.region div.stats div.partido:eq(2)").addClass("par3"),c=a.data[year].tercer_partido_percent*
200/100,$("div#comparewindow div.bottom div.region div.stats div.partido:eq(2) span.c").width(c<2?2:c),$("div#comparewindow div.bottom div.region div.stats div.partido:eq(2) p").text(a.data[year].tercer_partido_name+" ("+a.data[year].tercer_partido_percent+"%)"),$("div#comparewindow div.bottom div.region div.stats div.partido:eq(2)").show()):$("div#comparewindow div.bottom div.region div.stats div.partido:eq(2)").hide(),$("div#comparewindow div.bottom div.region div.stats div.partido:eq(3) a").text("OTROS DATOS"),
year>2006?(a.lavinia_url!=void 0?(c=a.lavinia_url.split("|"),$("div#comparewindow div.bottom div.region div.stats div.partido:eq(3) p a").attr("href","http://resultados-elecciones.rtve.es/municipales/"+c[0]+"/provincias/"+c[1]+"/municipios/"+c[2]+"/")):$("div#comparewindow div.bottom div.region div.stats div.partido:eq("+id+") p a").attr("href","http://resultados-elecciones.rtve.es/"),$("div#comparewindow div.bottom div.region div.stats div.partido:eq("+id+")").show()):$("div#comparewindow div.bottom div.region div.stats div.partido:eq("+
id+")").hide(),$("div#comparewindow div#compare_region2 div.stats").show()):$("div#comparewindow div#compare_region2 div.stats").hide()}$("div#comparewindow div.bottom").removeClass("search").addClass("region")}var e=this;this.cleanSecondRegion();b=global_url+"/google_names_cache/"+gmaps_version+"/"+replaceWeirdCharacters(b)+".json";a==null?$.ajax({method:"GET",dataType:"json",url:b,success:function(a){a!=null?(c(a,d),$("div#comparewindow p.refer").hide()):($("div#comparewindow div.bottom").addClass("search").removeClass("region province"),
e.refreshBottom(),$("div#comparewindow p.refer").text("No hay datos para esta localidad").show())},error:function(){$("div#comparewindow div.bottom").addClass("search").removeClass("region province");e.refreshBottom();$("div#comparewindow p.refer").text("No hay datos para esta localidad").show()}}):c(a,d)};
CompareWindow.prototype.drawTotalNumber=function(a,b,d,c){var e=this,f=a-1,h=["primer","segundo","tercer","otros"],j=d.data[year][h[f]+"_partido_total"],l="otros",i="otros",k=$("div#comparewindow div#compare_region"+b+" div.summary li.partido:eq("+f+")");a<4&&((i=d.data[year][h[f]+"_partido_name"])&&i.length>16&&(i=i.substr(0,13)+"..."),b=normalizePartyName(d.data[year][h[f]+"_partido_name"]),l=_.indexOf(parties,b)!==-1?b:"par"+a,k.addClass(l));c==!0?(a=k.find("strong").text(),c=k.find("span").text(),
(a!=j||i!=null&&c!=i)&&k.find("> *").fadeOut("slow",function(){e.renderTotalNumber(k,f,j,i);k.find("> *").fadeIn("slow")})):this.renderTotalNumber(k,f,j,i)};CompareWindow.prototype.renderTotalNumber=function(a,b,d,c){c!=null?(a.show(),a.find("strong").text(d),a.find("span").text(c.toUpperCase())):a.hide()};
CompareWindow.prototype.drawBar=function(a,b,d){var c=a-1,e=["primer","segundo","tercer"];if(a<4)if(d.data[year][e[c]+"_partido_name"]!=void 0){var f=normalizePartyName(d.data[year][e[c]+"_partido_name"]);f.length>16&&(f=f.substr(0,13)+"...");$("div#comparewindow div."+b+" div.stats div.partido:eq("+c+")").removeClass(parties.join(" ")+" par1 par2 par3");_.indexOf(parties,f)!==-1?$("div#comparewindow div."+b+" div.stats div.partido:eq("+c+")").addClass(f):this.oldPar1!=f&&$("div#comparewindow div."+
b+" div.stats div.partido:eq("+c+")").addClass("par"+a);bar_width=normalizeBarWidth(d.data[year][e[c]+"_partido_percent"]*this.bar_width_multiplier/100);$("div#comparewindow div."+b+" div.stats div.partido:eq("+c+") span.c").animate({width:bar_width.toString()+"px"},500,"easeOutCubic");$("div#comparewindow div."+b+" div.stats div.partido:eq("+c+") p").text(f+" ("+d.data[year][e[c]+"_partido_percent"]+"%)");$("div#comparewindow div."+b+" div.stats div.partido:eq("+c+")").show()}else $("div#comparewindow div."+
b+" div.stats div.partido:eq("+c+")").hide();else $("div#comparewindow div."+b+" div.stats div.partido:eq(3) p a").text("OTROS DATOS"),year>2006?(d.lavinia_url!=void 0?(a=d.lavinia_url.split("|"),$("div#comparewindow div."+b+" div.stats div.partido:eq(3) p a").attr("href","http://resultados-elecciones.rtve.es/municipales/"+a[0]+"/provincias/"+a[1]+"/municipios/"+a[2]+"/")):$("div#comparewindow div."+b+" div.stats div.partido:eq(3) p a").attr("href","http://resultados-elecciones.rtve.es/"),$("div#comparewindow div."+
b+" div.stats div.partido:eq(3)").show()):$("div#comparewindow div."+b+" div.stats div.partido:eq(3)").hide()};CompareWindow.prototype.refreshChart=function(){this.firstData!=null&&this.createChart(this.firstData,!0,!0)};
CompareWindow.prototype.updateValues=function(){this.div&&($("div#comparewindow div.top div.stats h4").text(parseFloat(this.firstData.data[year].percen_participacion).toFixed(0)+"% de participaci\u00f3n"),$("div#comparewindow div.top p.province").text((this.firstData.provincia!=void 0?this.firstData.provincia+", ":"")+this.firstData.data[year].censo_total+" habitantes"),_.isEmpty(this.secondData)||($("div#comparewindow div.bottom div.stats h4").text(parseFloat(this.secondData.data[year].percen_participacion).toFixed(0)+
"% de participaci\u00f3n"),$("div#comparewindow div.bottom p.province").text((this.secondData.provincia!=void 0?this.secondData.provincia+", ":"")+this.secondData.data[year].censo_total+" habitantes")),this.updateTotalNumber(),this.updateBars())};
CompareWindow.prototype.updateTotalNumber=function(){$("div#comparewindow div.summary li.partido").each(function(a,d){$(d).removeClass(parties.join(" ")+" par1 par2 par3")});for(var a=1;a<=4;a++)this.drawTotalNumber(a,1,this.firstData,!0),this.secondData.data!=void 0&&this.drawTotalNumber(a,2,this.secondData,!0)};
CompareWindow.prototype.updateBars=function(){$("div#comparewindow div.top div.stats div.partido").each(function(a,d){$(d).removeClass(parties.join(" ")+" par1 par2 par3")});for(var a=1;a<=4;a++)this.drawBar(a,"top",this.firstData),_.isEmpty(this.secondData)||this.drawBar(a,"bottom",this.secondData)};CompareWindow.prototype.resetSearch=function(){$("div#comparewindow div.bottom input.text").val("Introduce una ubicaci\u00f3n");$("div#comparewindow div.bottom p.refer").hide();$("div#comparewindow div.bottom").removeClass("region").addClass("search")};
CompareWindow.prototype.show=function(){$(this.div).css("margin","-200px 0 0 -178px").css("top","50%").css("left","50%");$(this.div).fadeIn()};CompareWindow.prototype.hide=function(){$(this.div).fadeOut()};
CompareWindow.prototype.removeRegion=function(a){if($("div#comparewindow div.bottom").hasClass("search")||$("div#comparewindow div.bottom").hasClass("province"))return this.hide(),!1;if(a=="region")return $("div#comparewindow div.bottom").removeClass("region"),this.cleanSecondRegion(),this.resetSearch(),!1;if(a=="top"&&$("div#comparewindow div.bottom").hasClass("region"))return this.firstData=this.secondData,this.secondData={},this.compareFirstRegion(this.firstData),this.resetSearch(),$("div#comparewindow div.bottom").removeClass("region"),
this.refreshBottom(),!1};
CompareWindow.prototype.createChart=function(a,b,d){b&&$("div#comparewindow div.stats_slider").empty();var c=0;_.each(normalization,function(b,d){if(a.data!=void 0&&a.data[year][b]!=void 0){c++;getDeepLevelFromZoomLevel(peninsula.getZoom());var h=Math.abs(a.data[year][b]*90)/Math.max(Math.abs(max_min_avg[b+"_"+year+"_max"]),Math.abs(max_min_avg[b+"_"+year+"_min"]));h>100&&(h=100);$('div.stats_slider div[alt="'+d+'"].up').length>0?$('div.stats_slider div[alt="'+d+'"].up').append('<span style="width:'+h+
'px" class="bar '+(a.data[year][b]>0?"positive":"negative")+' second"></span><span style="'+(a.data[year][b]>0?"margin:0 0 0 "+(h+5)+"px":"margin:0 "+(h+5)+"px 0 0")+'" class="data '+(a.data[year][b]>0?"positive":"negative")+' second">'+parseFloat(a.data[year][b]).toFixed(2)+"%</span>"):$("div.stats_slider").append('<div alt="'+d+'" class="up block"><h3>% '+d+'</h3><span style="width:'+h+'px" class="bar '+(a.data[year][b]>0?"positive":"negative")+' first"></span><span style="'+(a.data[year][b]>0?
"margin:0 0 0 "+(h+5)+"px":"margin:0 "+(h+5)+"px 0 0")+'" class="data '+(a.data[year][b]>0?"positive":"negative")+' first">'+parseFloat(a.data[year][b]).toFixed(2)+'%</span><a class="evolucion" href="#ver_evolucion">ver evoluci\u00f3n</a></div>')}});$("div.stats_slider").width(c*298);_.each(normalization,function(b,c){if(a.data!=void 0&&a.data[year][b]!=void 0)if($('div.stats_slider div[alt="'+c+'"].down').length>0){var d=createImage(a,b,!0);$('div.stats_slider div[alt="'+c+'"].down').append('<img class="second" src="'+
d+'" title="" alt="Evoluci\u00f3n '+year+" "+c+'"/><span class="name second">'+a.name+"</span>")}else d=createImage(a,b,!1),$("div.stats_slider").append('<div alt="'+c+'" class="down block"><h3>% '+c+'</h3><a class="resumen" href="#ver_resumen">ver resumen</a><img class="first" src="'+d+'" /><span class="name first">'+a.name+"</span></div>")});d&&!_.isEmpty(this.secondData)&&this.createChart(this.secondData,!1,!1)};
CompareWindow.prototype.setUpChartView=function(){$('div.stats_slider div[alt="'+compare+'"].up').length&&setTimeout(function(){$("div.outer_stats_slider").scrollTo($('div.stats_slider div[alt="'+compare+'"].up'),1)},20)};CompareWindow.prototype.isVisible=function(){return $("div#comparewindow").is(":visible")};CompareWindow.prototype.cleanSecondRegion=function(){this.secondData={};$("div.stats_slider div.block").each(function(a,b){$(b).find(".second").remove()});this.refreshBottom()};
CompareWindow.prototype.refreshBottom=function(){if(state=="mapa"){if(!$("div#comparewindow div.bottom").hasClass("region")){$("div#comparewindow div.bottom").removeClass("search province");var a=peninsula.getZoom();a==6?($("div#comparewindow div.bottom div.province p").text("Selecciona otra autonom\u00eda en el mapa"),$("div#comparewindow div.bottom").addClass("province")):a>6&&a<9?($("div#comparewindow div.bottom div.province p").text("Selecciona otra provincia en el mapa"),$("div#comparewindow div.bottom").addClass("province")):
$("div#comparewindow div.bottom").addClass("search")}}else $("div#comparewindow div.bottom").hasClass("region")||($("div#comparewindow div.bottom").removeClass("province"),$("div#comparewindow div.bottom").addClass("search"))};
function createImage(a,b,d){var c=0,e=0,f=!1,h,j=0,l=!1,i="";minGraphYear=1987;_.indexOf([1987,1991,1995,1999,2003,2007,2011],minGraphYear);for(var k=1987;k<2012;k++)a.data[k]!=void 0&&a.data[k][b]!=void 0?(!f&&year==k&&(f=!0,h=e),l||(l=!0),e++,Math.abs(parseFloat(a.data[k][b]))>c&&(c=Math.ceil(Math.abs(parseFloat(a.data[k][b])))),i+=a.data[k][b]+","):l&&j++;i=i.substring(0,i.length-1);return d?"http://chart.apis.google.com/chart?chf=bg,s,FFFFFF00&chs="+e*12+"x60&cht=ls&chco=FF6699&chds=-"+c+","+
c+"&chd=t:"+i+"&chdlp=b&chls=1&chm=o,FF6699,0,"+h+",5&chma=3,"+j*12+",3,3":"http://chart.apis.google.com/chart?chf=bg,s,FFFFFF00&chs="+e*12+"x60&cht=ls&chco=666666&chds=-"+c+","+c+"&chd=t:"+i+"&chdlp=b&chls=1&chm=o,666666,0,"+h+",5&chma=3,"+j*12+",3,3"};var canary_island,peninsula,start_center=new google.maps.LatLng(39.67660002390679,-3.6563984375000036),start_zoom=6,previous_zoom=6,canary_center=new google.maps.LatLng(28.3660940558243,-15.631496093750004),peninsula_center=new google.maps.LatLng(39.67660002390679,-3.6563984375000036),projection=new MercatorProjection,infowindow,comparewindow,dragging=!1,baseUrl="http://chart.apis.google.com/chart?chs=256x256",chco="6B6A6ADF|65432100",chf="bg,s,65432100",chld="ES",chd="",political_parties,custom_map_style=
[{featureType:"administrative.country",elementType:"all",stylers:[{saturation:-100},{visibility:"off"}]},{featureType:"administrative.province",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"administrative.locality",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"road.arterial",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"all",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"all",elementType:"all",stylers:[{lightness:7},{saturation:-91}]},
{featureType:"all",elementType:"all",stylers:[]}];
function initializeMap(){var a={zoom:start_zoom,center:start_center,disableDefaultUI:!0,mapTypeId:google.maps.MapTypeId.ROADMAP,scrollwheel:!1,minZoom:6,maxZoom:12,mapTypeControlOptions:{mapTypeIds:[google.maps.MapTypeId.ROADMAP,"rtve"]}};peninsula=new google.maps.Map(document.getElementById("peninsula"),a);a=new google.maps.StyledMapType(custom_map_style,{name:"rtve"});peninsula.mapTypes.set("rtve",a);peninsula.setMapTypeId("rtve");political_parties=new google.maps.ImageMapType({getTileUrl:function(a,
d){return tiles_pngs_url.replace("{n}",Math.ceil(Math.random()*4))+tiles_version+"/"+procesos_electorales[year]+"/"+ +a.x+"_"+a.y+"_"+d+".png"},tileSize:new google.maps.Size(256,256),opacity:0.75,isPng:!0,minZoom:6,maxZoom:12,name:"Political parties tiles",alt:""});peninsula.overlayMapTypes.insertAt(0,political_parties);infowindow=new InfoWindow(new google.maps.LatLng(0,0),peninsula);comparewindow=new CompareWindow;explanationwindow=new ExplanationWindow;aboutwindow=new AboutWindow;peninsula.overlayMapTypes.setAt(1,
new CoordMapType(new google.maps.Size(256,256)));initializeSearch();google.maps.event.addListenerOnce(peninsula,"tilesloaded",function(){changeHash();checkZoom();google.maps.event.addListener(this,"dragend",function(){changeHash()});google.maps.event.addListener(this,"zoom_changed",function(){changeHash();checkZoom()})});$("a.islas_canarias").live("click",function(a){a.stopPropagation();a.preventDefault();peninsula.setCenter(canary_center);peninsula.setZoom(6);changeHash()});$("a.peninsula").live("click",
function(a){a.stopPropagation();a.preventDefault();peninsula.setCenter(peninsula_center);peninsula.setZoom(6);changeHash()});$("a.zoom_in").click(function(a){a.stopPropagation();a.preventDefault();a=peninsula.getZoom();peninsula.setZoom(a+1)});$("a.zoom_out").click(function(a){a.stopPropagation();a.preventDefault();a=peninsula.getZoom();peninsula.setZoom(a-1)});$("span.slider").slider({orientation:"vertical",range:"min",min:6,max:10,value:6,step:1,stop:function(a,d){d.value==10?peninsula.setZoom(12):
d.value==9?peninsula.setZoom(11):peninsula.setZoom(d.value);checkZoom()}});$(document).click(function(a){var d=a.target||a.srcElement;d.nodeName.toLowerCase();if($(d).closest("div.bubble").length>0){if(!dragging){var c=$(d).closest("div.bubble").attr("id"),e=$(d).closest("div.bubble").parent().attr("id"),c=hash[e][c],d=$(d).closest("div.bubble").height()/2-5,e=new google.maps.LatLng(c.center_latitude,c.center_longitude);infowindow.setPosition(e,d,c)}a.preventDefault?(a.preventDefault(),a.stopPropagation()):
(a.stopPropagation(),a.returnValue=!1)}})}var tileOverlayHolder=[];function refreshTiles(){simpleRefreshTiles()}function simpleRefreshTiles(){$("div#peninsula div").each(function(a,b){if($(b).css("opacity")>0&&$(b).css("opacity")<1&&$(b).children("img").length>0){var d=$(b).children("img"),c=d.attr("src"),e=c.split("/"),c=c.replace("/"+e[e.length-2]+"/","/"+procesos_electorales[year]+"/");d.attr("src",c)}})}var loaded=!1;
function checkZoom(){infowindow.hide();peninsula.getZoom()==10&&previous_zoom<peninsula.getZoom()?(peninsula.setZoom(11),$("span.slider").slider({value:9})):peninsula.getZoom()==10&&previous_zoom>peninsula.getZoom()?(peninsula.setZoom(8),$("span.slider").slider({value:8})):peninsula.getZoom()==12?$("span.slider").slider({value:10}):peninsula.getZoom()==11?$("span.slider").slider({value:9}):peninsula.getZoom()==9&&previous_zoom<peninsula.getZoom()?(peninsula.setZoom(11),$("span.slider").slider({value:9})):
peninsula.getZoom()==9&&previous_zoom>peninsula.getZoom()?(peninsula.setZoom(8),$("span.slider").slider({value:8})):$("span.slider").slider({value:peninsula.getZoom()});previous_zoom=peninsula.getZoom();drawNoDataBars();comparewindow.isVisible()&&comparewindow.refreshBottom();loaded?failCircle.reset():loaded=!0};var name="Espa\u00f1a",bar_width_multiplier=140,offsetScreenX=510,offsetScreenY=265,graph_bubble_index=100,valuesHash={},possibleValues={},nBubbles=0,selectedBubble,chooseMessage,axisLegend,graphLegend,graphBubbleInfowindow,graphBubbleTooltip;jQuery.easing.def="easeInOutCubic";
chooseMessage=function(){function a(){$("div#graph div.message").fadeOut("slow")}$("div#graph div.message a").live("click",function(b){b.stopPropagation();b.preventDefault();a();$("div.select div.option_list ul li a.envejecimiento").click();year<2005?updateNewSliderValue(2005,year):restartGraph();drawNoDataBars()});return{show:function(){$("div#graph div.message").fadeIn("slow")},hide:a}}();
function initializeGraph(){state=="grafico"&&$("#graph").show();$(".text").live("change",function(){(value=$(".text option:selected").val())&&addNewBubble(value)});ie_&&$(".bubbleContainer p.region_name").live({mouseover:function(){$(this).parent().children(".innerBubble").mouseover()},mouseout:function(){$(this).parent().children(".innerBubble").mouseout()}});$(".innerBubble").live({mouseover:function(){failCircle.failed()!==!0&&($(this).height(),$(this).parent().css("top").replace("px",""),$(this).parent().css("left").replace("px",
""),$(this).parent().attr("id"),$(this).parent().css("zIndex",graph_bubble_index++),ie_?($(this).parent().children(".outerBubble").css("background","#333333"),$(this).parent().children("p.region_name").css("color","#333333")):($(this).parent().children(".outerBubble").css("background","#333333"),$(this).parent().children("p.region_name").css("color","#333333"),$(this).parent().children("p.region_name").addClass("white_shadow")),!graphBubbleInfowindow.isOpen()&&selectedBubble!==$(this).parent().attr("id")&&
(ie_?$("div#"+selectedBubble+" div.outerBubble").css("background","black"):$("div#"+selectedBubble+" div.outerBubble").css("background","rgba(255,255,255,0.5)")))},mouseout:function(){selectedBubble!==$(this).parent().attr("id")&&(ie_?($(this).parent().children("p.region_name").css("color","black"),$(this).parent().children(".outerBubble").css("background-position","0 -60px"),$(this).parent().children(".outerBubble").css("background","#dddddd")):($(this).parent().children(".outerBubble").css("background",
"rgba(255,255,255,0.5)"),$(this).parent().children("p.region_name").addClass("dark_shadow"),$(this).parent().children("p.region_name").removeClass("white_shadow"),$(this).parent().children("p.region_name").css("color","#fff")))},click:function(){if(failCircle.failed()!==!0){$(this).height();var a=$(this).parent().offset().top-274,b=$(this).parent().offset().left-96;selectedBubble!==$(this).parent().attr("id")&&$("div#"+selectedBubble+" div.outerBubble").css("background","rgba(255,255,255,0.5)");selectedBubble=
$(this).parent().attr("id");$("div#"+selectedBubble+" div.outerBubble").css("background","#333");graphBubbleTooltip.hide();graphBubbleInfowindow.change(b,a,$(this).parent().attr("id"))}}});graphBubbleInfowindow=function(){function a(){var a=textInfoWindow[normalization[compare]],b=h<0?"negative":"positive",a=a["before_"+b]+" <strong>"+Math.abs(h)+"</strong>"+a["after_"+b],b=compare=="lineas adsl"||compare=="consumo prensa"||compare=="consumo tv"?max_min_avg[normalization[compare]+"_"+year+"_avg"]!=
void 0?parseFloat(max_min_avg[normalization[compare]+"_"+year+"_avg"]).toFixed(2):parseFloat(max_min_avg[normalization[compare]+"_"+lastAvailableYear()+"_avg"]).toFixed(2):max_min_avg[normalization[compare].replace("_normalizado","")+"_"+year+"_avg"]!=void 0?parseFloat(max_min_avg[normalization[compare].replace("_normalizado","")+"_"+year+"_avg"]).toFixed(2):parseFloat(max_min_avg[normalization[compare].replace("_normalizado","")+"_"+lastAvailableYear()+"_avg"]).toFixed(2),c=lastAvailableYear(),a=
_.template(a)({media:b,yearSim:c<year?c:year});a+="<sup class='help'>1</sup>";$("div#graph_infowindow p.info").html(a);$("div#graph_infowindow p.info sup.help").unbind("mouseenter").unbind("mouseleave");$("div#graph_infowindow p.info sup.help").mouseenter(function(){var a=$("div#graph_infowindow p.info sup.help").position().top,b=$("div#graph_infowindow p.info sup.help").position().left;$("div#graph_infowindow div.tooltip").css("top",a-60);$("div#graph_infowindow div.tooltip").css("left",b-70);$("div#graph_infowindow div.tooltip span").text("Desviaci\u00f3n respecto a la media de "+
{autonomias:"las autonom\u00edas",provincias:"las provincias",municipios:"los municipios"}[deep]);$("div#graph_infowindow div.tooltip").show()});$("div#graph_infowindow p.info sup.help").mouseleave(function(){$("div#graph_infowindow div.tooltip").hide()})}function b(b,c){deep=="provincias"||deep=="autonomias"?$("div#graph_infowindow a.compare").hide():$("div#graph_infowindow a.compare").show();$("div#graph_infowindow a.more").unbind("click");$("div#graph_infowindow a.more").unbind("mouseenter").unbind("mouseleave");
var d=$("div.select div.option_list li a."+compare.replace(/ /g,"_")).text(),d=d=="Parados larga dur..."?"parados larga duraci\u00f3n":d.toLowerCase();deep_level=deep=="provincias"?"municipios":deep=="autonomias"?"provincias":"municipios";var e=var_resolutions[deep_level];e==void 0||e[normalization[compare]]==null?($("div#graph_infowindow a.more").css("color","#ccc"),$("div#graph_infowindow div.bottom div.warning span").text("No hay datos de "+d+" a nivel de "+deep_level),$("div#graph_infowindow a.more").mouseenter(function(){$("div#graph_infowindow div.bottom div.warning").show()}),
$("div#graph_infowindow a.more").mouseleave(function(){$("div#graph_infowindow div.bottom div.warning").hide()})):($("div#graph_infowindow a.more").css("color","#333"),$("div#graph_infowindow a.more").click(function(a){a.stopPropagation();a.preventDefault();graphBubbleTooltip.hide();graphBubbleInfowindow.hide();a=$("div#"+selectedBubble);a=valuesHash[a.attr("id")].children_json_url;if(a===null)return!1;else goDeeper(global_url+"/"+a)}));ie_?($("div#graph_infowindow").css({visibility:"visible",left:b+
"px",top:c+"px"}),$("div#graph_infowindow").show(),f=!0):($("div#graph_infowindow").css({opacity:0,visibility:"visible",left:b+"px",top:c+"px"}),$("div#graph_infowindow").stop().animate({top:"-=10px",opacity:1},250,"swing",function(){f=!0}));a()}function d(){f&&(ie_?($("div#graph_infowindow").hide(),f=!1):$("div#graph_infowindow").stop().animate({top:"+=10px",opacity:0},100,"swing",function(){$("div#graph_infowindow").css({visibility:"hidden"});f=!1}))}function c(a,b){var c=valuesHash[a]["partido_"+
b][0],d=$("div#graph_infowindow div.top div.stats div.partido:eq("+(b-1)+")");if(c==null)d.hide();else{d.show();var e=normalizePartyName(c),f=valuesHash[a]["partido_"+b][1],h=d.attr("class").split(" ");$.each(h,function(a){h[a]!="partido"&&d.removeClass(h[a])});_.indexOf(parties,e)==-1&&(e="par"+b);d.addClass(e);bar_width=normalizeBarWidth(f*bar_width_multiplier/100);d.find("span").width(bar_width);d.find("p").text(c+" ("+f+"%)")}}function e(a,b){var c="otros",d=$("div#graph_infowindow div.summary li.partido:eq("+
(a-1)+")"),e,f;a<4?(e=b["partido_"+a][0],f=b["partido_"+a][1],c=normalizePartyName(e),e&&e.length>16&&(e=e.substr(0,13)+"..."),c=_.indexOf(parties,c)!==-1?c:"par"+a,d.addClass(c)):(e="otros",f=b.resto_partidos_percent);e!=null?(d.show(),d.find("strong").text(f),d.find("span").text(e.toUpperCase())):d.hide()}var f=!1,h;$("body").append('<div class="infowindow" id="graph_infowindow" style="visibility:hidden; z-index:1000">  <a class="close_infowindow"></a>  <div class="top">    <h2>Alaejos</h2>    <p class="province">11.982 habitantes.</p>    <div class="stats">      <h4>65% de participaci\u00f3n</h4>      <div class="partido"><div class="bar"><span class="l"></span><span class="c"></span><span class="r"></span></div><p>PSOE (61%)</p></div>      <div class="partido"><div class="bar"><span class="l"></span><span class="c"></span><span class="r"></span></div><p>PP (36%)</p></div>      <div class="partido"><div class="bar"><span class="l"></span><span class="c"></span><span class="r"></span></div><p>IU (12%)</p></div>      <div class="partido otros"><p><a href="http://resultados-elecciones.rtve.es/municipales/" target="_blank">OTROS</a></p></div>    </div><div class="summary"><h4>Municipios en los que es el m\u00e1s votado...</h4><ul><li class="partido psoe bar"><strong>00</strong><span>PSOE</span></li><li class="partido pp bar"><strong>00</strong><span>PP</span></li><li class="partido iu bar"><strong>00</strong><span>IU</span></li><li class="partido otros"><strong>00</strong><span>OTROS</span></li></ul></div>  </div>  <div class="bottom">  <div class="tooltip"><span></span><div class="tip"></div></div>    <p class="info">Su poblaci\u00f3n es <strong>8 a\u00f1os mas j\u00f3ven</strong> que la media de edad nacional</p>    <div class="chart">      <img src="http://chart.apis.google.com/chart?chf=bg,s,FFFFFF00&chs=205x22&cht=ls&chco=8B1F72&chds=-80,97.828&chd=t:97.277,-48.793,58.405,97.828,94.565&chdlp=b&chls=1&chm=o,8B1F72,0,5,6&chma=3,3,3,3" class="sparklines" />    </div>    <div class="warning"><span>No hay datos de paro a nivel de provincia</span><div class="tip"></div></div>    <a class="more">Ver m\u00e1s</a>    <a class="compare">Comparar</a>  </div>  <div class="footer"></div></div>');
(function(){$("div#graph_infowindow a.compare").click(function(a){try{a.stopPropagation()}catch(b){event.cancelBubble=!0}d();$("div#"+selectedBubble);var a=replaceWeirdCharacters(valuesHash[selectedBubble].google_maps_name),c=global_url+"/google_names_cache/"+gmaps_version+"/"+a+".json";comparewindow.isVisible()?comparewindow.compareSecondRegion(null,a,deep):$.ajax({method:"GET",dataType:"json",url:c,success:function(a){comparewindow.compareFirstRegion(a);comparewindow.show()},error:function(){$("div#comparewindow div.bottom").addClass("search").removeClass("region");
$("div#comparewindow p.refer").text("No hemos encontrado la localidad, prueba con otra")}})});$("div#graph_infowindow a.close_infowindow").click(function(a){a.stopPropagation();a.preventDefault();d();if(selectedBubble!==void 0){var a=$("div#"+selectedBubble+" div.innerBubble"),b=a.height()/2,b=a.parent().css("top").replace("px","")-b-21,a=a.parent().css("left").replace("px","");graphBubbleTooltip.show(a,b,valuesHash[selectedBubble].name)}})})();return{show:b,hide:d,refresh:function(){$("div#graph_infowindow").css({opacity:1,
visibility:"visible"})},change:function(a,d,i){if($("#graph_infowindow").attr("alt")==i&&f)return!1;$("#graph_infowindow").attr("alt",i);$("#graph_infowindow").find(".top").find("h2").empty();var k=valuesHash[i].name;k&&k.length>24&&(k=k.substr(0,21)+"...");$("#graph_infowindow").find(".top").find("h2").append(k);$("#graph_infowindow a.more").show();deep=="autonomias"?$("#graph_infowindow a.more").text("Ver provincias"):deep=="provincias"?$("#graph_infowindow a.more").text("Ver municipios"):$("#graph_infowindow a.more").hide();
k=Math.floor(parseInt(valuesHash[i].porcentaje_participacion));$("#graph_infowindow").find(".top").find(".province").empty();$("#graph_infowindow").find(".top").find(".province").append(valuesHash[i].censo_total+" habitantes, "+year);$("#graph_infowindow").find(".top").find(".stats").find("h4").empty();$("#graph_infowindow").find(".top").find(".stats").find("h4").append(k+"% de participaci\u00f3n");if(deep=="municipios"){$("div#graph_infowindow div.stats").show();$("div#graph_infowindow div.summary").hide();
for(var m=1;m<=3;m++)c(i,m);$("div#graph_infowindow div.stats div.partido:eq(3) p a").text("OTROS");year>2006?(valuesHash[i].lavinia_url!=void 0?(k=valuesHash[i].lavinia_url.split("|"),$("div#graph_infowindow div.stats div.partido:eq(3) p a").attr("href","http://resultados-elecciones.rtve.es/municipales/"+k[0]+"/provincias/"+k[1]+"/municipios/"+k[2]+"/")):$("div#graph_infowindow div.stats div.partido:eq(3) p a").attr("href","http://resultados-elecciones.rtve.es/"),$("div#graph_infowindow div.stats div.partido:eq(3)").show()):
$("div#graph_infowindow div.stats div.partido:eq(3)").hide()}else{$("div#graph_infowindow div.stats").hide();$("div#graph_infowindow div.summary").show();$("div#graph_infowindow div.summary li.partido").each(function(a,b){$(b).removeClass(parties.join(" ")+" par1 par2 par3")});for(m=1;m<=4;m++)e(m,valuesHash[i],!1)}var p=valuesHash[i].evolution.split(","),v=i=0,w=!1,s,k="";h=p[36-(2011-year)]==0?parseFloat(p[36-(2011-lastAvailableYear())]):parseFloat(p[36-(2011-year)]);var m=var_resolutions[deep][normalization[compare]],
q=m[0];q<1987&&(q=1987);for(var q=36-(2011-q),n=36-(2011-m[m.length-1]),u=36-(2011-year),r=36-n,m=q;m<n+1;m++)!w&&m==u&&(w=!0,s=v),Math.abs(parseFloat(p[m]))>i&&(i=Math.ceil(Math.abs(parseFloat(p[m])))),k+=p[m]+",",v++;s==null&&(s=n);k=k.substring(0,k.length-1);p=(n-q)*8+10;$("div#graph_infowindow div.chart img").attr("src","http://chart.apis.google.com/chart?chf=bg,s,FFFFFF00&chs="+p+"x22&cht=ls&chco=8B1F72&chds=-"+i+","+i+"&chd=t:"+k+"&chdlp=b&chls=1&chm=o,8B1F72,0,"+s+",6&chma=3,3,3,3");$("div#graph_infowindow div.chart img").css({margin:"0 "+
r*7+"px 0 0"});$("div#graph_infowindow div.chart img").show();b(a,d)},isOpen:function(){return f}}}();graphBubbleTooltip=function(){$("div#graph_container").append('<p class="graph_bubble_tooltip">Comunidad de Madrid</p>');return{hide:function(){},show:function(){}}}();axisLegend=function(){return{update:function(a){a!==void 0&&($("#top_legend").fadeOut("fast",function(){$("#top_legend").text(a.legendTop);$("#top_legend").fadeIn("slow",function(){})}),$("#bottom_legend").fadeOut("fast",function(){$("#bottom_legend").text(a.legendBottom);
$("#bottom_legend").fadeIn("slow",function(){})}))}}}();graphLegend=function(){function a(){$input=$("div.graph_legend form input.text");deep=="autonomias"?$input.val("Busca tu CCAA"):deep=="provincias"?$input.val("Busca tu provincia"):$input.val("Busca tu municipio")}function b(){$("div.graph_legend").fadeIn()}function d(a,b){var d=b-1,h=normalizePartyName(a["partido_"+b][0]),d=$("div.graph_legend div.stats div.partido:eq("+d+")"),j=a["partido_"+b][0],l=a["partido_"+b][1];j==null?d.hide():(d.show(),
_.indexOf(parties,h)==-1&&(h="par"+b),d.addClass(h),bar_width=normalizeBarWidth(l*bar_width_multiplier/100),d.find("span.c").width(bar_width),d.find("p").text(j+" ("+l+"%)"))}$("div#graph_container").append('<div class="graph_legend">       <h2>Tasa de Paro en Espa\u00f1a<sup>(2010)</sup></h2>       <p class="autonomy"><a href="#">Castilla y Le\u00f3n</a></p>       <div class="stats">       <div class="partido psoe"><div class="bar"><span class="l"></span><span class="c"></span><span class="r"></span></div><p>PSOE (61%)</p></div>       <div class="partido pp"><div class="bar"><span class="l"></span><span class="c"></span><span class="r"></span></div><p>PP (36%)</p></div>       <div class="partido iu"><div class="bar"><span class="l"></span><span class="c"></span><span class="r"></span></div><p>IU (12%)</p></div>       <div class="partido otros"><div class="bar"><span class="l"></span><span class="c"></span><span class="r"></span></div><p>OTROS</p></div>       </div>       <div class="summary">       <h4>Municipios en los que es el m\u00e1s votado...</h4>       <ul>         <li class="partido psoe bar"><strong>00</strong><span>PSOE</span></li>         <li class="partido pp bar"><strong>00</strong><span>PP</span></li>         <li class="partido iu bar"><strong>00</strong><span>IU</span></li>         <li class="partido otros"><strong>00</strong><span>OTROS</span></li>       </ul>       </div>       <form>       <select class="text"></select>       </form>       <div class="search_error">       <h5>Ops! No hemos podido encontrar lo que buscas</h5>       <p>Comprueba que has escrito bien el nombre que buscabas</p>       <a class="close" href="#cerrar">Cerrar</a>       </div>       </div>');
$("div.graph_legend div.search_error a.close").click(function(a){a.preventDefault();a.stopPropagation();$(this).parent().fadeOut()});$("div.graph_legend form").submit(function(a){a.preventDefault();a.stopPropagation();$("div.graph_legend div.search_error a.close").trigger("click");a=$(this).children("input.text").val();addNewBubble(a)});$("div.graph_legend form input.text").focusin(function(){var a=$(this).val();(a=="Busca tu CCAA"||a=="Busca tu provincia"||a=="Busca tu municipio")&&$(this).val("")});
$("div.graph_legend form input.text").focusout(function(){$(this).val()==""&&a()});return{hide:function(){$("div.graph_legend").fadeOut("slow",function(){a()})},hideFast:function(){$("div.graph_legend").hide();$("div.graph_legend div.search_error").hide()},show:b,showError:function(){var a=$("div.graph_legend form ").position().top;$("div.graph_legend div.search_error").css("top",a+40);$("div.graph_legend div.search_error").fadeIn()},hideError:function(){$("div.graph_legend div.search_error").hide()},
change:function(a,e,f){e.length>0?(e.length==1?($("div.graph_legend h2").html($("div.select.selected span.inner_select a").text()+" "+normalizeRegionName(e[0])).show(),$("div.graph_legend p.autonomy a").text("Volver a Espa\u00f1a"),$("div.graph_legend p.autonomy a").attr("href","#ver_Espa\u00f1a")):($("div.graph_legend h2").html($("div.select.selected span.inner_select a").text()+" "+normalizeRegionName(e[1])).show(),$("div.graph_legend p.autonomy a").text("Volver a "+normalizeRegionName(e[0])),$("div.graph_legend p.autonomy a").attr("href",
"#ver_"+e[0].replace(/_/g," "))),$("div.graph_legend p.autonomy").show(),$("div.graph_legend p.autonomy a").unbind("click"),$("div.graph_legend p.autonomy a").click(function(a){a.stopPropagation();a.preventDefault();goDeeper(global_url+"/"+f[f.length-1]);graphBubbleTooltip.hide();graphBubbleInfowindow.hide()}),$("div.graph_legend div.stats").hide(),$("div.graph_legend div.summary").show(),$("div.graph_legend div.stats div.partido").each(function(a,b){$(b).removeClass(parties.join(" ")+" par1 par2 par3")}),
d(a,1),d(a,2),d(a,3),$("div.graph_legend div.stats div.partido:eq(3) p").text("OTROS")):($("div.graph_legend div.summary").show(),$("div.graph_legend h2").html($("div.select.selected span.inner_select a").text()+" Espa\u00f1a<sup>("+year+")</sup>").show(),$("div.graph_legend p.autonomy").show(),$("div.graph_legend p.autonomy a").unbind("click"),$("div.graph_legend div.stats").hide(),$("div.graph_legend p.autonomy").hide());b()}}}();$(window).resize(function(){graphBubbleInfowindow.hide()})}
function restartGraph(){createdBubbles=!1;nBubbles=0;graphLegend.hide();graph_bubble_index=100;$("div#graph_container .bubbleContainer").remove();valuesHash={};possibleValues={};createOrUpdateBubbles(global_url+"/graphs/"+deep+"/"+graph_version+"/"+(name=="Espa\u00f1a"?"":name+"_")+normalization[compare]+"_"+year+".json")}function renderTotalNumber(a,b,d,c){c!=null?(a.show(),a.find("strong").text(d),a.find("span").text(c.toUpperCase())):a.hide()}
function drawTotalNumber(a,b,d){var c=b-1,e,f,h="otros";b<4?(e=a["partido_"+b][0],f=a["partido_"+b][1]):(f=a.otros[1],e=a.otros[0]);var j=$("div.graph_legend div.summary li.partido:eq("+c+")"),a=normalizePartyName(e),h=_.indexOf(parties,a)!==-1?a:"par"+b;j.addClass(h);d==!0?(b=j.find("strong").text(),d=j.find("span").text(),(b!=f||e!=null&&d!=e)&&j.find("> *").fadeOut("slow",function(){renderTotalNumber(j,c,f,e);j.find("> *").fadeIn("slow")})):renderTotalNumber(j,c,f,e)}
function createOrUpdateBubbles(a){showGraphLoader();graphBubbleTooltip.hide();createdBubbles==!0?updateBubbles(a):createBubbles(a)}
function createBubbles(a){compare==="ninguna"?(hideGraphLoader(),chooseMessage.show()):(chooseMessage.hide(),$.getJSON(a,function(a){if(a==null)createdBubbles=!1,failCircle.reset(),failCircle.resetDataNotFound(),failCircle.show(),hideGraphLoader();else{failCircle.hide();var d=!0;possibleValues=a;updateSelect(a);count=0;_.each(a,function(c,e){if(!createdBubbles){if(count>19)return createdBubbles=!0,hideGraphLoader(),!1;else count>=_.size(possibleValues)-1&&(createdBubbles=!0,hideGraphLoader());d&&
(graphLegend.change(a[e].parent_results,a[e].parent,a[e].parent_url),updateLegend(a[e].parent_results),d=!1);valuesHash[e]=c;nBubbles+=1;$("#graph_container").append('<div class="bubbleContainer" id="'+e+'"><div class="outerBubble"></div><div class="innerBubble"></div><p class="region_name">'+c.name+"</p></div>");var f=$("#"+e+" p.region_name").height();ie_?$.browser.version.slice(0,3)>="8.0"?$("#"+e+" p.region_name").css({top:"-"+f+"px"}):$("#"+e+" p.region_name").css({width:"60px",margin:"10px 0 0 -30px"}):
$("#"+e+" p.region_name").css({top:"-"+f+"px"});$("#"+e+" p.region_name").addClass("dark_shadow");$("#"+e).css("left",offsetScreenX.toString()+"px");$("#"+e).css("top",offsetScreenY.toString()+"px");$("#"+e).css("opacity","0");ie_?$("#"+e).find(".innerBubble").css("background","none"):$("#"+e).find(".innerBubble").css("backgroundColor",c.color);updateBubble("#"+e,offsetScreenX+parseInt(c.x_coordinate),offsetScreenY-parseInt(c.y_coordinate),c.radius,c.color,c.partido_1[0]);count++}})}}))}
function updateLegend(a){$("div.graph_legend div.summary h4").text(toTitleCase({autonomias:"autonom\u00edas",provincias:"provincias",municipios:"municipios"}[deep])+" en los que es el m\u00e1s votado");$("div.graph_legend div.summary li.partido").each(function(a,b){$(b).removeClass(parties.join(" ")+" par1 par2 par3")});for(var b=1;b<=4;b++)drawTotalNumber(a,b,!0)}
function updateBubbles(a){$.getJSON(a,function(a){if(a==null)failCircle.reset(),failCircle.resetDataNotFound(),failCircle.show(),hideGraphLoader();else{failCircle.hide();var d=!0,c=0;_.each(a,function(e,f){d&&(graphLegend.change(a[f].parent_results,a[f].parent,a[f].parent_url),updateLegend(a[f].parent_results),d=!1);c>=_.size(possibleValues)-1&&hideGraphLoader();valuesHash[f]=e;updateBubble("#"+f,offsetScreenX+parseInt(e.x_coordinate),offsetScreenY-parseInt(e.y_coordinate),e.radius,e.color,e.partido_1[0]);
c++})}})}
function updateBubble(a,b,d,c,e,f){var h=Math.abs(parseInt($(a).find(".outerBubble").css("top"))+(parseInt($(a).find(".outerBubble").css("height"))-c)/2)*-1,j=e.length==1?e[0].toString():e[0].toString(),e=e!=null?j:"#c9cbae";f!=void 0&&_.indexOf(parties,normalizePartyName(f))==-1&&(e="#c9cbae");$(a).animate({left:b.toString()+"px",top:d.toString()+"px",opacity:1},1E3);$(a).find(".outerBubble").animate({height:c.toString()+"px",width:c.toString()+"px",top:h.toString()+"px",left:h.toString()+"px"},
1E3);$(a).find(".innerBubble").animate({height:(c-10).toString()+"px",width:(c-10).toString()+"px",top:(h+5).toString()+"px",left:(h+5).toString()+"px",backgroundColor:e},1E3);$(a).find(".innerBubble").addClass(normalizePartyName(f))}
function updateSelect(a){var b=$("select.text");if(b&&($("select.text").empty(),b.append($("<option />").val("").text("Busca "+{municipios:"un muncipio",provincias:"una provincia",autonomias:"una autonom\u00eda"}[deep])),$.each(a,function(){var a=this.name.replace("(",""),a=a.replace(")",""),a=replaceWeirdCharacters(a);b.append($("<option />").val(a).text(this.name))}),a=$("select.text"),a.length>0)){var d=a.val(),c=$("option",a),e=[];c.each(function(){e.push({val:$(this).val(),text:$(this).text()})});
e.sort(function(a,b){return a.val>b.val?1:a.val==b.val?0:-1});for(var f=0,h=e.length;f<h;f++)$(c[f]).val(e[f].val).text(e[f].text);a.val(d)}}
function goDeeper(a){graphLegend.hide();showGraphLoader();var b=a.split("/");deep=b[5];var d=b.length-1;compare.replace(/ /g,"_");var c=b[d].split(normalization[compare])[0].length;name=b[d].split(normalization[compare])[0].substring(0,c-1);graphLegend.hideError();graphBubbleTooltip.hide();drawNoDataBars();name==""&&(name="Espa\u00f1a");changeHash();destroyBubbles(a)}function destroyBubbles(a){for(key in valuesHash)destroyBubble(key,a)}
function destroyBubble(a,b){parseInt($("#"+a).css("left"))<offsetScreenX?displacementX="-=30px":displacementX="+=30px";parseInt($("#"+a).css("top"))<offsetScreenY?displacementY="-=30px":displacementY="+=30px";$("#"+key).animate({left:displacementX,top:displacementY,opacity:"0"},500,function(){$("#"+a).remove();nBubbles-=1;nBubbles==0&&(createdBubbles=!1,createOrUpdateBubbles(b))})}
function addNewBubble(a){a=a.toLowerCase().replace(/\u00f1/,"n").replace(/ /g,"_");if($('div.bubbleContainer[id="'+a+'"]').length)selectedBubble!==void 0&&$("div#"+selectedBubble+" div.outerBubble").css("background","rgba(255,255,255,0.5)"),selectedBubble=a,$('div.bubbleContainer[id="'+a+'"]').css({"z-index":graph_bubble_index}),$('div.bubbleContainer[id="'+a+'"] div.outerBubble').css("background","#333333"),$("div#"+selectedBubble+" p.region_name").css("color","#333333"),$("div#"+selectedBubble+
" p.region_name").addClass("white_shadow");else{var b=0;_.each(possibleValues,function(d,c){if(c.toLowerCase()==a.toLowerCase()){selectedBubble!==void 0&&$("div#"+selectedBubble+" div.outerBubble").css("background","rgba(255,255,255,0.5)");selectedBubble=c;valuesHash[c]=d;b++;$("#graph_container").append("<div class='bubbleContainer' id='"+c+"'><p class='region_name'>"+d.name+"</p><div class='outerBubble'></div><div class='innerBubble'></div></div>");var e=$("#"+c+" p.region_name").height();$("#"+
c+" p.region_name").css({top:"-"+(e+25)+"px"});$("#"+c+" p.region_name").addClass("dark_shadow");$("#"+c).css("left",offsetScreenX.toString()+"px");$("#"+c).css("top",offsetScreenY.toString()+"px");$("#"+c).css("zIndex",graph_bubble_index);$("#"+c).css("opacity","0");$("#"+c).find(".innerBubble").css("backgroundColor",d.color);updateBubble("#"+c,offsetScreenX+parseInt(d.x_coordinate),offsetScreenY-parseInt(d.y_coordinate),d.radius,d.color,d.partido_1[0])}});b==0&&graphLegend.showError()}}
function showGraphLoader(){$("div#graph span.loader").fadeIn()}function hideGraphLoader(){$("div#graph span.loader").fadeOut()};var deep="autonomias",createdBubbles=!1,animate_interval,animation=!1,previous_year,failCircle,noyear_slider,deep_interval;function getDeepLevelFromZoomLevel(a){return a==6?"autonomias":a>6&&a<11?"provincias":"municipios"}
function initializeHeader(){getDeepLevelFromZoomLevel(start_zoom);updateWadusText();noyear_slider=function(){function a(){$("div#year_nodata_tooltip").fadeIn()}function d(){$("div#year_nodata_tooltip").fadeOut()}return{show:a,hide:d,refresh:function(){if(compare!="ninguna"){var c=lastAvailableYear();c!=0&&c<year?($("div#year_nodata_tooltip p.nodata").text("No hay datos para esta variable en "+year),$("div#year_nodata_tooltip p.show").text("Te mostramos los datos del "+c),a()):d()}else d()}}}();failCircle=
function(){function a(){if(state=="mapa")var b=$("#map"),c=getDeepLevelFromZoomLevel(peninsula!=null?peninsula.getZoom():start_zoom),d=!0;else b=$("#graph"),c=deep;d=var_resolutions[c][normalization[compare]]==void 0?!1:!0;c=$("div.select div.option_list li a."+compare.replace(/ /g,"_")).text();c=c=="Parados larga dur..."?"parados larga duraci\u00f3n":c.toLowerCase();d==!0?(text="No hay datos de "+c+" para este a\u00f1o",next_link_text="ver siguiente a\u00f1o con datos"):state=="mapa"?(text="No hay datos de "+
c+" a este nivel de zoom",next_link_text="ver siguiente nivel con datos"):(text="No hay datos de "+c+" a este nivel de zoom",next_link_text="ir al nivel superior");b.find("div.content span.message").html(text);b.find("div.content a.next").html(next_link_text)}function d(){(state=="mapa"?$("#map"):$("#graph")).find("div.fail").fadeOut("slow",function(){f=void 0})}function c(a){a=var_resolutions[a][normalization[compare]];return a!=void 0?year>a[a.length-1]?a[a.length-1]:_.detect(a,function(a){return year<=
a}):year}var e=!1,f=!1;$("div.fail").live("click",function(a){a.stopPropagation();a.preventDefault();state=="mapa"&&d()});$("div.fail a.why").live("click",function(a){a.stopPropagation();a.preventDefault();explanationwindow.show()});$("div.fail a.next").live("click",function(a){a.stopPropagation();a.preventDefault();if(state=="grafico"){var b;(a=var_resolutions[deep][normalization[compare]])?year>a[a.length-1]?b=a[a.length-1]:year<a[0]&&(b=a[0]):(name="Espa\u00f1a",deep="autonomias",a=var_resolutions[deep][normalization[compare]],
_.indexOf(a,year)!=-1?b=year:year>a[a.length-1]?b=a[a.length-1]:year<a[0]&&(b=a[0]));b||(b=year);changeHash();updateNewSliderValue(b,year);createOrUpdateBubbles(global_url+"/graphs/"+deep+"/"+graph_version+"/"+(name=="Espa\u00f1a"?"":name+"_")+normalization[compare]+"_"+b+".json");drawNoDataBars()}else state=="mapa"&&(b=getDeepLevelFromZoomLevel(peninsula.getZoom()),b=c(b),b!=year&&b<2012?(updateNewSliderValue(b),failCircle.hide()):(peninsula.setZoom(6),b=c("autonomias"),b!=year&&b<2012&&updateNewSliderValue(b,
year)))});$("div.fail a.continue").live("click",function(a){a.stopPropagation();a.preventDefault();d()});return{show:function(){if(!e){e=!0;if(state=="mapa"){a();var c=$("#map");$("div.fail").css("height","auto")}else{a();var c=$("#graph"),d=$("div#graph_container").height(),l=$("div.tabs").height();d>l&&$("div.fail").height(d)}f!=!0&&c.find("div.fail").fadeIn("slow",function(){f=!0})}},hide:d,failed:function(){return f},reset:function(){e=!1},resetDataNotFound:function(){f=!1}}}();drawNoDataBars();
noyear_slider.refresh();state=="grafico"&&($("div#tab_menu a.map").removeClass("selected"),$("div#tab_menu a.stats").addClass("selected"),restartGraph(),$("div#map").css("zIndex",0),$("div#graph").css("zIndex",10));$("div#tab_menu a").click(function(b){b.stopPropagation();b.preventDefault();b=$(this).hasClass("map")?"map":"graph";$(this).hasClass("selected")||(a.hide_(),$("div#tab_menu a").removeClass("selected"),b=="map"?($("#graph").hide(),comparewindow.hide(),graphBubbleTooltip.hide(),$("#welcomewindow").fadeOut(),
state="mapa",drawNoDataBars(),graphBubbleInfowindow.hide(),$("div#map").css("zIndex",10),$("div#graph").css("zIndex",0),setTimeout(function(){refreshBubbles();refreshTiles()},500)):(state="grafico",$("#welcomewindow").fadeOut(),comparewindow.hide(),graphBubbleTooltip.hide(),$("#graph").show(),drawNoDataBars(),name="Espa\u00f1a",deep="autonomias",changeHash(),graphLegend.hideFast(),restartGraph(),$("div#map").css("zIndex",0),$("div#graph").css("zIndex",10)),clearInterval(animate_interval),$("body").unbind("click"),
$(this).addClass("selected"),changeHash())});$("a.play").live("click",function(a){a.stopPropagation();a.preventDefault();$(this).removeClass("play").addClass("stop");$(this).attr("href","#stop");animation=!0;checkStartYear();$("body").click(function(a){a.stopPropagation();a.preventDefault();$("a.stop").removeClass("stop").addClass("play");$("a.play").attr("href","#play");$("body").unbind("click");animation=!1;clearInterval(animate_interval)})});$("a.stop").live("click",function(a){a.stopPropagation();
a.preventDefault();animation=!1;$("body").unbind("click");$(this).removeClass("stop").addClass("play");$(this).attr("href","#play")});$("div.years_content a.left").click(function(a){a.stopPropagation();a.preventDefault();graphBubbleInfowindow.hide();year>1987&&updateNewSliderValue(year-1,year)});$("div.years_content a.right").click(function(a){a.stopPropagation();a.preventDefault();year<2011&&updateNewSliderValue(year+1,year)});$("div.year_slider").slider({range:"min",min:1987,max:2011,value:year,
step:1,create:function(){$(this).find("a.ui-slider-handle").text(year)},slide:function(a,d){$(this).find("a.ui-slider-handle").text(d.value);year=d.value},change:function(a,d){$(this).find("a.ui-slider-handle").text(d.value);year=d.value},start:function(a,d){state==="grafico"&&graphBubbleInfowindow.isOpen()&&graphBubbleInfowindow.hide();previous_year=d.value},stop:function(a,d){d.value!=previous_year&&updateNewSliderValue(d.value,previous_year)}});var a=function(){function a(){$("div.info_tooltip").fadeOut("slow");
$("body").unbind("click")}function d(){var a=$("div.info_tooltip div.content").height()+50,a=a>231?231:a;$("div.info_tooltip").css("height",a+"px")}$("div.info_tooltip a.close").click(function(c){c.stopPropagation();c.preventDefault();a()});$("div.info_tooltip a.more").click(function(c){c.stopPropagation();c.preventDefault();a();explanationwindow.show()});return{hide_:a,show_:function(c,e){$("div.info_tooltip").fadeOut("slow",function(){var f=tooltipInfo[c];f!==void 0&&(c=="Parados larga dur..."?
$("div.info_tooltip h5").text("Parados larga duraci\u00f3n"):$("div.info_tooltip h5").text(c),$("div.info_tooltip p").text(f.content),$("div.info_tooltip ul li.left").html("<span>-25</span>"+f.left),$("div.info_tooltip ul li.right").html("<span>+25</span>"+f.right),$("div.info_tooltip").css("left",e-7),$("div.info_tooltip").fadeIn("slow",function(){$("body").click(function(c){$(c.target).closest("div.info_tooltip").length||a()})}),d())})}}}();$("div.select div.outer_select").click(function(b){b.stopPropagation();
b.preventDefault();$("#welcomewindow").fadeOut();$("div.select").each(function(a,b){$(b).removeClass("opened")});$(this).closest("div.select").hasClass("opened")?$(this).closest("div.select").removeClass("opened"):(a.hide_(),failCircle.reset(),$(this).parent().find("li.selected").length?(b=$(this).parent().find("li.selected").index(),$(this).parent().find("div.option_list").css("top",-(b*24)+"px")):$(this).parent().find("div.option_list").css("top","0px"),$(this).closest("div.select").addClass("opened"));
$("body").click(function(a){$(a.target).closest("div.option_list").length||($("div.select").each(function(a,b){$(b).removeClass("opened")}),$("body").unbind("click"))})});$("div.option_list ul li a").click(function(b){b.stopPropagation();b.preventDefault();$("#welcomewindow").fadeOut();b=$(this).text();$(this).parent().hasClass("selected")?$(this).closest("div.select").addClass("selected").removeClass("opened"):(compare=$(this).attr("class").replace(/_/g," "),axisLegend.update(tooltipInfo[b]),graphBubbleInfowindow.hide(),
state=="mapa"?(refreshBubbles(),comparewindow.isVisible()&&comparewindow.setUpChartView(),infowindow.isOpen()&&infowindow.updateValues()):(comparewindow.isVisible()&&comparewindow.setUpChartView(),createOrUpdateBubbles(global_url+"/graphs/"+deep+"/"+graph_version+"/"+(name=="Espa\u00f1a"?"":name+"_")+normalization[compare]+"_"+year+".json")),noyear_slider.refresh(),drawNoDataBars(),changeHash(),$("div.select span.inner_select a").each(function(){$(this).text($(this).attr("title"))}),$("div.option_list ul li").each(function(a,
b){$(b).removeClass("selected")}),$("div.select").each(function(a,b){$(b).removeClass("selected")}),a.show_(b,$(this).closest("div.select").position().left),$(this).parent().addClass("selected"),$(this).closest("div.select").addClass("selected").removeClass("opened"),$(this).closest("div.select").find("span.inner_select a").text(b),$("body").unbind("click"))});$("span.aux_info a.more_info").click(function(a){a.stopPropagation();a.preventDefault();$("#welcomewindow").fadeOut("slow");explanationwindow.show(!0)});
$("span.aux_info a.know_more").click(function(a){a.stopPropagation();a.preventDefault();$("#welcomewindow").fadeOut("slow");aboutwindow.show()});$("a.twitter").click(function(a){a.stopPropagation();a.preventDefault();a="http://twitter.com/?status="+encodeURIComponent("El microscopio del voto, c\u00f3mo vota Espa\u00f1a "+window.location.href);window.open(a,"_newtab")});$("a.deselection").click(function(a){a.stopPropagation();a.preventDefault();unSelectAllVariables();removeDataBars()})}
function checkStartYear(){year!=2011?checkFailYear(year)||updateNewSliderValue(getFirstAvailableYear(getDeepLevelFromZoomLevel(peninsula.getZoom())),year):updateNewSliderValue(1987,2011);animate_interval=setInterval(function(){animateSlider()},1500)}function getFirstAvailableYear(a){a=var_resolutions[a][normalization[compare]];return a!=void 0&&a.length>0?a[0]:year}
function animateSlider(){var a=year+1;if(a>2011)return $("a.action").removeClass("stop").addClass("play"),$("a.action.play").attr("href","#play"),animation=!1,$("body").unbind("click"),clearInterval(animate_interval),!1;else animation=!0,updateNewSliderValue(a)}function removeDataBars(){$("span.slider_no_data_left").css({width:"0%"})}
function drawNoDataBars(){$("span.slider_no_data_left").hide();$("span.slider_no_data_left").css({width:"0%"});var a;state=="mapa"?(a=peninsula!=null?peninsula.getZoom():start_zoom,a=getDeepLevelFromZoomLevel(a)):a=deep;var b=normalization[compare];var_resolutions[a][b]!=void 0?(a=var_resolutions[a][b][0]-1987,a!=0?($("span.slider_no_data_left").css({width:a*4.16+"%"}),$("span.slider_no_data_left").show()):$("span.slider_no_data_left").hide(),checkFailYear(year)?failCircle.hide():failCircle.show()):
compare!="ninguna"&&($("span.slider_no_data_left").css({width:"100%"}),$("span.slider_no_data_left").show(),failCircle.show())}function checkFailYear(a){return state=="mapa"?checkFailYearForMap(a):checkFailYearForGraph(a)}function checkFailYearForMap(a){var b=getDeepLevelFromZoomLevel(peninsula!=null?peninsula.getZoom():start_zoom);return var_resolutions[b]!=void 0&&var_resolutions[b][normalization[compare]]!=void 0?a>=var_resolutions[b][normalization[compare]][0]:!0}
function checkFailYearForGraph(a){var b=deep;return var_resolutions[b][normalization[compare]]!=void 0?a>=var_resolutions[b][normalization[compare]][0]:!0}
function updateNewSliderValue(a,b){$("div.year_slider").slider("value",a);noyear_slider.refresh();state=="mapa"?(b!=void 0?graph_hack_year[b]!=graph_hack_year[a]&&refreshTiles():refreshTiles(),checkFailYear(a)?failCircle.hide():failCircle.show(),refreshBubbles(),infowindow.isOpen()&&infowindow.updateValues(),comparewindow.isVisible()&&(comparewindow.updateValues(),comparewindow.createChart(infowindow.information,!0,!0))):(graphBubbleTooltip.hide(),comparewindow.isVisible()&&(comparewindow.updateValues(),
comparewindow.refreshChart()),createOrUpdateBubbles(global_url+"/graphs/"+deep+"/"+graph_version+"/"+(name=="Espa\u00f1a"?"":name+"_")+normalization[compare]+"_"+a+".json"));changeHash()}
function unSelectAllVariables(){compare="ninguna";$("div.option_list ul li.selected").each(function(a,b){$(b).removeClass("selected")});$("div.select").each(function(a,b){$(b).removeClass("selected")});$("div.select span.inner_select a").each(function(a,b){var d=$(b).attr("title");$(b).text(d)});changeHash();refreshBubbles();infowindow.isOpen()&&infowindow.updateValues()}
function updateWadusText(){if(compare=="ninguna")$("div.wadusText").hide();else{var a=$("div.select div.option_list li a."+compare.replace(/ /g,"_")).text(),a=a=="Parados larga dur..."?"Parados larga duraci\u00f3n":a;$("div.wadusText p").html(a+" <sup>["+year+"]</sup>");$("div.wadusText").show()}};var year=2011,compare="ninguna",state="mapa";$(document).ready(function(){var a=window.location.hash.replace("#","").split("/");goToHash(a)});function initializeApp(){initWelcomeWindow();initializeGraph();initializeHeader();initializeMap();initializeKeyBindings()}
function initializeKeyBindings(){$(document).keyup(function(a){a.keyCode==27&&(ie_?$("#welcomewindow").hide():$("#welcomewindow").fadeOut(),explanationwindow.hide(),comparewindow.hide(),aboutwindow.hide(),state=="grafico"?graphBubbleInfowindow.hide():infowindow.hide())})}
function goToHash(a){if(a[0]!="mapa"&&a[0]!="grafico")return initializeApp(),!1;if(!$("div.option_list ul li a."+a[5]).length&&a[5]!="ninguna")return initializeApp(),!1;if(a.length!=8)return initializeApp(),!1;if(a[6]!="autonomias"&&a[6]!="municipios"&&a[6]!="provincias")return initializeApp(),!1;if(isNaN(a[1])||isNaN(a[2])||isNaN(a[3])||isNaN(a[4])||a[4].length!=4||!isNaN(a[5]))return initializeApp(),!1;if(a[4]<1987||a[4]>2011)return initializeApp(),!1;if(a[3]>12||a[3]<6)return initializeApp(),!1;
start_center=new google.maps.LatLng(parseFloat(a[1]),parseFloat(a[2]));start_zoom=parseInt(a[3]);year=parseInt(a[4]);state=a[0];$("div.year_slider").slider("value",year);compare=a[5].replace(/_/g," ");deep=a[6];name=a[7];var b=$("div.option_list ul li a."+a[5]).text();$("div.option_list ul li.selected").each(function(a,b){$(b).removeClass("selected")});$("div.select").each(function(a,b){$(b).removeClass("selected")});$("div.select span.inner_select a").each(function(a,b){var e=$(b).attr("title");
$(b).text(e)});$("div.option_list ul li a."+a[5]).closest("li").addClass("selected");$("div.option_list ul li a."+a[5]).closest("div.select").addClass("selected");$("div.option_list ul li a."+a[5]).closest("div.select").find("span.inner_select a").text(b);initializeApp()}
function initWelcomeWindow(){$("body").click(function(a){$(a.target).closest("div#welcomewindow").length||(ie_?$("#welcomewindow").hide():$("#welcomewindow").fadeOut(),$("body").unbind("click"))});$("#welcomewindow a.close_info").click(function(a){a.stopPropagation();a.preventDefault();ie_?$("#welcomewindow").hide():$("#welcomewindow").fadeOut()});$("#welcomewindow a.start").click(function(a){a.stopPropagation();a.preventDefault();$("#welcomewindow").fadeOut("slow");year<2005&&updateNewSliderValue(2E3,
year);$("div.select div.option_list ul li a.envejecimiento").click();changeHash()});$("#welcomewindow a.explore").click(function(a){a.stopPropagation();a.preventDefault();$("#welcomewindow").fadeOut("slow")});$("#welcomewindow a.more_info").click(function(a){a.stopPropagation();a.preventDefault();$("#welcomewindow").fadeOut("slow");explanationwindow.show(!0)});$("#welcomewindow a.know_more").click(function(a){a.stopPropagation();a.preventDefault();$("#welcomewindow").fadeOut("slow");aboutwindow.show(!0)})}
function changeHash(){var a=peninsula.getCenter(),b=peninsula.getZoom(),a="#"+state+"/"+a.lat().toFixed(3)+"/"+a.lng().toFixed(3)+"/"+b+"/"+year+"/"+compare.replace(/ /g,"_")+"/"+deep+"/"+name;window.location.hash=a;updateWadusText()};
